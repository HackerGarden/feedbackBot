var Base64=function(){return{encode:function(a){var t="",p,x,A,G,I,r,h=0;do p=a.charCodeAt(h++),x=a.charCodeAt(h++),A=a.charCodeAt(h++),G=p>>2,p=(p&3)<<4|x>>4,I=(x&15)<<2|A>>6,r=A&63,isNaN(x)?I=r=64:isNaN(A)&&(r=64),t=t+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(G)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(p)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(I)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r);
while(h<a.length);return t},decode:function(a){var t="",p,x,A,G,I,r=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(r++)),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(r++)),G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(r++)),I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(r++)),p=p<<2|x>>4,x=(x&15)<<
4|G>>2,A=(G&3)<<6|I,t+=String.fromCharCode(p),64!=G&&(t+=String.fromCharCode(x)),64!=I&&(t+=String.fromCharCode(A));while(r<a.length);return t}}}();"undefined"!==typeof exports?module.exports=Base64:window.Base64=Base64;(function(a,t,p){function x(a,c,d){var g,k=a.runtimeStyle&&a.runtimeStyle[c],e=a.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(d)&&/^-?\d/.test(d)&&(g=e.left,k&&(a.runtimeStyle.left=a.currentStyle.left),e.left="fontSize"===c?"1em":d||0,d=e.pixelLeft+"px",e.left=g,k&&(a.runtimeStyle.left=k)),/^(thin|medium|thick)$/i.test(d)?d:Math.round(parseFloat(d))+"px"}function A(a){return parseInt(a,10)}function G(a,c,d,g,k,e){var b,q,B;c=h.Util.getCSS(c,a,k);(1===c.length&&(q=c[0],c=[],c[0]=q,c[1]=q),-1!==
(""+c[0]).indexOf("%"))?(B=parseFloat(c[0])/100,q=d.width*B,"backgroundSize"!==a&&(q-=(e||g).width*B)):"backgroundSize"===a?"auto"===c[0]?q=g.width:/contain|cover/.test(c[0])?(b=h.Util.resizeBounds(g.width,g.height,d.width,d.height,c[0]),q=b.width,b=b.height):q=parseInt(c[0],10):q=parseInt(c[0],10);return"auto"===c[1]?b=q/g.width*g.height:-1!==(""+c[1]).indexOf("%")?(B=parseFloat(c[1])/100,b=d.height*B,"backgroundSize"!==a&&(b-=(e||g).height*B)):b=parseInt(c[1],10),[q,b]}function I(a,c){var d=[];
return{storage:d,width:a,height:c,clip:function(){d.push({type:"function",name:"clip",arguments:arguments})},translate:function(){d.push({type:"function",name:"translate",arguments:arguments})},fill:function(){d.push({type:"function",name:"fill",arguments:arguments})},save:function(){d.push({type:"function",name:"save",arguments:arguments})},restore:function(){d.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){d.push({type:"function",name:"fillRect",arguments:arguments})},
createPattern:function(){d.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var a=[];return d.push({type:"function",name:"drawShape",arguments:a}),{moveTo:function(){a.push({name:"moveTo",arguments:arguments})},lineTo:function(){a.push({name:"lineTo",arguments:arguments})},arcTo:function(){a.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){a.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){a.push({name:"quadraticCurveTo",
arguments:arguments})}}},drawImage:function(){d.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){d.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,n){return d.push({type:"variable",name:a,arguments:n}),n}}}var r,h={Util:{}};h.Util.log=function(n){h.logging&&a.console&&a.console.log&&a.console.log(n)};h.Util.trimText=function(a){return function(c){return a?a.apply(c):((c||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim);
h.Util.asFloat=function(a){return parseFloat(a)};(function(){var a=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,c=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;h.Util.parseTextShadows=function(d){if(!d||"none"===d)return[];d=d.match(a);for(var g=[],k=0;d&&d.length>k;k++){var e=d[k].match(c);g.push({color:e[0],offsetX:e[1]?e[1].replace("px",""):0,offsetY:e[2]?e[2].replace("px",""):0,blur:e[3]?e[3].replace("px",""):0})}return g}})();h.Util.parseBackgroundImage=function(a){var c,d,g,k,e,b,q,B,m=[],l=0,E=0,
f=function(){c&&('"'===d.substr(0,1)&&(d=d.substr(1,d.length-2)),d&&B.push(d),"-"===c.substr(0,1)&&0<(k=c.indexOf("-",1)+1)&&(g=c.substr(0,k),c=c.substr(k)),m.push({prefix:g,method:c.toLowerCase(),value:e,args:B}));B=[];c=g=d=e=""};f();for(var h=0,r=a.length;r>h;h++)if(b=a[h],!(0===l&&-1<" \r\n\t".indexOf(b))){switch(b){case '"':q?q===b&&(q=null):q=b;break;case "(":if(q)break;if(0===l){l=1;e+=b;continue}E++;break;case ")":if(q)break;if(1===l){if(0===E){l=0;e+=b;f();continue}E--}break;case ",":if(q)break;
if(0===l){f();continue}if(1===l&&0===E&&!c.match(/^url$/i)){B.push(d);d="";e+=b;continue}}e+=b;0===l?c+=b:d+=b}return f(),m};h.Util.Bounds=function(a){var c,d={};return a.getBoundingClientRect&&(c=a.getBoundingClientRect(),d.top=c.top,d.bottom=c.bottom||c.top+c.height,d.left=c.left,d.width=a.offsetWidth,d.height=a.offsetHeight),d};h.Util.OffsetBounds=function(a){var c=a.offsetParent?h.Util.OffsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+c.top,bottom:a.offsetTop+a.offsetHeight+c.top,
left:a.offsetLeft+c.left,width:a.offsetWidth,height:a.offsetHeight}};h.Util.getCSS=function(a,c,d){void 0!==a&&(r=t.defaultView.getComputedStyle(a,null));var g=r[c];if(/^background(Size|Position)$/.test(c)){a:{if(g=(g||"").split(","),g=g[d||0]||g[0]||"auto",g=h.Util.trimText(g).split(" "),"backgroundSize"!==c||g[0]&&!g[0].match(/cover|contain|auto/)){if(g[0]=-1===g[0].indexOf("%")?x(a,c+"X",g[0]):g[0],g[1]===p){if("backgroundSize"===c){a=(g[1]="auto",g);break a}g[1]=g[0]}g[1]=-1===g[1].indexOf("%")?
x(a,c+"Y",g[1]):g[1]}a=g}return a}return/border(Top|Bottom)(Left|Right)Radius/.test(c)?(a=g.split(" "),1>=a.length&&(a[1]=a[0]),a.map(A)):g};h.Util.resizeBounds=function(a,c,d,g,k){var e,b;a/=c;return k&&"auto"!==k?a>d/g^"contain"===k?(b=g,e=g*a):(e=d,b=d/a):(e=d,b=g),{width:e,height:b}};h.Util.BackgroundPosition=function(a,c,d,g,k){a=G("backgroundPosition",a,c,d,g,k);return{left:a[0],top:a[1]}};h.Util.BackgroundSize=function(a,c,d,g){a=G("backgroundSize",a,c,d,g);return{width:a[0],height:a[1]}};
h.Util.Extend=function(a,c){for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c};h.Util.Children=function(a){var c;try{var d;if(a.nodeName&&"IFRAME"===a.nodeName.toUpperCase())d=a.contentDocument||a.contentWindow.document;else{var g=a.childNodes;a=[];if(null!==g){var k=a.length,e=0;if("number"==typeof g.length)for(var b=g.length;b>e;e++)a[k++]=g[e];else for(;g[e]!==p;)a[k++]=g[e++];a.length=k}d=a}c=d}catch(q){h.Util.log("html2canvas.Util.Children failed with exception: "+q.message),c=[]}return c};
h.Util.isTransparent=function(a){return"transparent"===a||"rgba(0, 0, 0, 0)"===a};h.Util.Font=function(){var a={};return function(c,d,g){if(a[c+"-"+d]!==p)return a[c+"-"+d];var k,e,b,q=g.createElement("div"),B=g.createElement("img"),m=g.createElement("span");return q.style.visibility="hidden",q.style.fontFamily=c,q.style.fontSize=d,q.style.margin=0,q.style.padding=0,g.body.appendChild(q),B.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",B.width=1,B.height=1,B.style.margin=
0,B.style.padding=0,B.style.verticalAlign="baseline",m.style.fontFamily=c,m.style.fontSize=d,m.style.margin=0,m.style.padding=0,m.appendChild(g.createTextNode("Hidden Text")),q.appendChild(m),q.appendChild(B),k=B.offsetTop-m.offsetTop+1,q.removeChild(m),q.appendChild(g.createTextNode("Hidden Text")),q.style.lineHeight="normal",B.style.verticalAlign="super",e=B.offsetTop-q.offsetTop+1,b={baseline:k,lineWidth:1,middle:e},a[c+"-"+d]=b,g.body.removeChild(q),b}}();(function(){function a(d){return function(a){try{d.addColorStop(a.stop,
a.color)}catch(b){c.log(["failed to add color stop: ",b,"; tried to add: ",a])}}}var c=h.Util,d={};h.Generate=d;var g=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,
/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];d.parseGradient=function(a,e){var b,c,d,m,l,n,f;n=g.length;for(c=0;n>c&&!(d=a.match(g[c]));c+=1);if(d)switch(d[1]){case "-webkit-linear-gradient":case "-o-linear-gradient":if(b={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},l=d[2].match(/\w+/g))for(n=l.length,c=0;n>c;c+=1)switch(l[c]){case "top":b.y0=
0;b.y1=e.height;break;case "right":b.x0=e.width;b.x1=0;break;case "bottom":b.y0=e.height;b.y1=0;break;case "left":b.x0=0,b.x1=e.width}if(null===b.x0&&null===b.x1&&(b.x0=b.x1=e.width/2),null===b.y0&&null===b.y1&&(b.y0=b.y1=e.height/2),l=d[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(n=l.length,d=1/Math.max(n-1,1),c=0;n>c;c+=1)f=l[c].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),f[2]?(m=parseFloat(f[2]),
m/="%"===f[3]?100:e.width):m=c*d,b.colorStops.push({color:f[1],stop:m});break;case "-webkit-gradient":if(b={type:"radial"===d[2]?"circle":d[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},l=d[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),l&&(b.x0=l[1]*e.width/100,b.y0=l[2]*e.height/100,b.x1=l[3]*e.width/100,b.y1=l[4]*e.height/100),l=d[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(n=l.length,c=0;n>c;c+=1)f=l[c].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),
m=parseFloat(f[2]),"from"===f[1]&&(m=0),"to"===f[1]&&(m=1),b.colorStops.push({color:f[3],stop:m});break;case "-moz-linear-gradient":if(b={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},l=d[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),l&&(b.x0=l[1]*e.width/100,b.y0=l[2]*e.height/100,b.x1=e.width-b.x0,b.y1=e.height-b.y0),l=d[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(n=l.length,d=1/Math.max(n-1,1),c=0;n>c;c+=1)f=l[c].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),
f[2]?(m=parseFloat(f[2]),f[3]&&(m/=100)):m=c*d,b.colorStops.push({color:f[1],stop:m});break;case "-webkit-radial-gradient":case "-moz-radial-gradient":case "-o-radial-gradient":if(b={type:"circle",x0:0,y0:0,x1:e.width,y1:e.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},l=d[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),l&&(b.cx=l[1]*e.width/100,b.cy=l[2]*e.height/100),l=d[3].match(/\w+/),f=d[4].match(/[a-z\-]*/),l&&f)switch(f[0]){case "farthest-corner":case "cover":case "":c=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.cy,
2));l=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.y1-b.cy,2));f=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.y1-b.cy,2));n=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.cy,2));b.rx=b.ry=Math.max(c,l,f,n);break;case "closest-corner":c=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.cy,2));l=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.y1-b.cy,2));f=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.y1-b.cy,2));n=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.cy,2));b.rx=b.ry=Math.min(c,l,f,n);break;case "farthest-side":"circle"===l[0]?b.rx=
b.ry=Math.max(b.cx,b.cy,b.x1-b.cx,b.y1-b.cy):(b.type=l[0],b.rx=Math.max(b.cx,b.x1-b.cx),b.ry=Math.max(b.cy,b.y1-b.cy));break;case "closest-side":case "contain":"circle"===l[0]?b.rx=b.ry=Math.min(b.cx,b.cy,b.x1-b.cx,b.y1-b.cy):(b.type=l[0],b.rx=Math.min(b.cx,b.x1-b.cx),b.ry=Math.min(b.cy,b.y1-b.cy))}if(l=d[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(n=l.length,d=1/Math.max(n-1,1),c=0;n>c;c+=1)f=l[c].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),
f[2]?(m=parseFloat(f[2]),m/="%"===f[3]?100:e.width):m=c*d,b.colorStops.push({color:f[1],stop:m})}return b};d.Gradient=function(c,e){if(0!==e.width&&0!==e.height){var b,d,g=t.createElement("canvas"),m=g.getContext("2d");if(g.width=e.width,g.height=e.height,b=h.Generate.parseGradient(c,e))switch(b.type){case "linear":d=m.createLinearGradient(b.x0,b.y0,b.x1,b.y1);b.colorStops.forEach(a(d));m.fillStyle=d;m.fillRect(0,0,e.width,e.height);break;case "circle":d=m.createRadialGradient(b.cx,b.cy,0,b.cx,b.cy,
b.rx);b.colorStops.forEach(a(d));m.fillStyle=d;m.fillRect(0,0,e.width,e.height);break;case "ellipse":var l=t.createElement("canvas"),r=l.getContext("2d");d=Math.max(b.rx,b.ry);var f=2*d;l.width=l.height=f;d=r.createRadialGradient(b.rx,b.ry,0,b.rx,b.ry,d);b.colorStops.forEach(a(d));r.fillStyle=d;r.fillRect(0,0,f,f);m.fillStyle=b.colorStops[b.colorStops.length-1].color;m.fillRect(0,0,g.width,g.height);m.drawImage(l,b.cx-b.rx,b.cy-b.ry,2*b.rx,2*b.ry)}return g}};d.ListAlpha=function(a){var c,b="";do c=
a%26,b=String.fromCharCode(c+64)+b,a/=26;while(26<26*a);return b};d.ListRoman=function(a){var c,b="M CM D CD C XC L XL X IX V IV I".split(" "),d=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],g="",m=b.length;if(0>=a||4E3<=a)return a;for(c=0;m>c;c+=1)for(;a>=d[c];)a-=d[c],g+=b[c];return g}})();h.Parse=function(n,c){function d(a,b){var c=parseInt(s(a,b),10);return isNaN(c)?0:c}function g(a,b,c,d,e,f){"transparent"!==f&&(a.setVariable("fillStyle",f),a.fillRect(b,c,d,e))}function k(a,b,c){return 0<a.length?
b+c.toUpperCase():p}function e(a,b){switch(b){case "lowercase":return a.toLowerCase();case "capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,k);case "uppercase":return a.toUpperCase();default:return a}}function b(a){return/^(normal|none|0px)$/.test(a)}function q(a,b,c,d){var e=s(b,"fontWeight"),f=s(b,"fontFamily"),g=s(b,"fontSize"),l=u.parseTextShadows(s(b,"textShadow"));switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return a.setVariable("fillStyle",d),a.setVariable("font",
[s(b,"fontStyle"),s(b,"fontVariant"),e,g,f].join(" ")),a.setVariable("textAlign","left"),l.length&&(a.setVariable("shadowColor",l[0].color),a.setVariable("shadowOffsetX",l[0].offsetX),a.setVariable("shadowOffsetY",l[0].offsetY),a.setVariable("shadowBlur",l[0].blur)),"none"!==c?u.Font(f,g,z):p}function r(a,D,d){var f,l,m=d.ctx,n=s(a,"color"),k=s(a,"textDecoration"),h=s(a,"textAlign"),w=D,H=0;0<u.trimText(D.nodeValue).length&&(D.nodeValue=e(D.nodeValue,s(a,"textTransform")),h=h.replace(["-webkit-auto"],
["auto"]),l=!c.letterRendering&&/^(left|right|justify|auto)$/.test(h)&&b(s(a,"letterSpacing"))?D.nodeValue.split(/(\b| )/):D.nodeValue.split(""),f=q(m,a,k,n),c.chinese&&l.forEach(function(a,b){/.*[\u4E00-\u9FA5].*$/.test(a)&&(a=a.split(""),a.unshift(b,1),l.splice.apply(l,a))}),l.forEach(function(a,b){var C,c=l.length-1>b;C=d.transform.matrix;var D;if(W.rangeBounds&&!C){if("none"!==k||0!==u.trimText(a).length)C=w,c=H,D=z.createRange(),D=(D.setStart(C,c),D.setEnd(C,c+a.length),D.getBoundingClientRect());
H+=a.length}else if(w&&"string"==typeof w.nodeValue){var c=c?w.splitText(a.length):null,e=w;D=e.parentNode;var h=z.createElement("wrapper"),q=e.cloneNode(!0);h.appendChild(e.cloneNode(!0));D.replaceChild(h,e);C=C?u.OffsetBounds(h):u.Bounds(h);D=(D.replaceChild(q,h),C);w=c}if(C=D)switch(c=C.left,D=C.bottom,null!==a&&0<u.trimText(a).length&&m.fillText(a,c,D),k){case "underline":g(m,C.left,Math.round(C.top+f.baseline+f.lineWidth),C.width,1,n);break;case "overline":g(m,C.left,Math.round(C.top),C.width,
1,n);break;case "line-through":g(m,C.left,Math.ceil(C.top+f.middle+f.lineWidth),C.width,1,n)}}))}function m(a,b,c){var d;b=b.ctx;var e=s(a,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(e)){var f;f=-1;var l=1,g=a.parentNode.childNodes;if(a.parentNode){for(;g[++f]!==a;)1===g[f].nodeType&&l++;f=l}else f=-1;switch(e){case "decimal":d=f;break;case "decimal-leading-zero":d=1===(""+f).length?"0"+f:""+f;break;
case "upper-roman":d=h.Generate.ListRoman(f);break;case "lower-roman":d=h.Generate.ListRoman(f).toLowerCase();break;case "lower-alpha":d=h.Generate.ListAlpha(f).toLowerCase();break;case "upper-alpha":d=h.Generate.ListAlpha(f)}d+=". ";var m,n,e=z.createElement("boundelement"),e=(e.style.display="inline",m=a.style.listStyleType,a.style.listStyleType="none",e.appendChild(z.createTextNode(d)),a.insertBefore(e,a.firstChild),n=u.Bounds(e),a.removeChild(e),a.style.listStyleType=m,n);if(q(b,a,"none",s(a,
"color")),"inside"===s(a,"listStylePosition"))b.setVariable("textAlign","left"),a=c.left,c=e.bottom,null!==d&&0<u.trimText(d).length&&b.fillText(d,a,c)}}function l(a){return(a=n[a])&&!0===a.succeeded?a.img:!1}function E(a,b){var c=Math.max(a.left,b.left),d=Math.max(a.top,b.top),e=Math.min(a.left+a.width,b.left+b.width),f=Math.min(a.top+a.height,b.top+b.height);return{left:c,top:d,width:e-c,height:f-d}}function f(a,b,c,e,f){var l=d(b,"paddingLeft"),g=d(b,"paddingTop"),m=d(b,"paddingRight");b=d(b,"paddingBottom");
H(a,c,0,0,c.width,c.height,e.left+l+f[3].width,e.top+g+f[0].width,e.width-(f[1].width+f[3].width+l+m),e.height-(f[0].width+f[2].width+g+b))}function y(a){return["Top","Right","Bottom","Left"].map(function(b){return{width:d(a,"border"+b+"Width"),color:s(a,"border"+b+"Color")}})}function x(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){return s(a,"border"+b+"Radius")})}function v(a,b,c,d){var e=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,
endControl:c,end:d,subdivide:function(f){var l=e(a,b,f),g=e(b,c,f),m=e(c,d,f),n=e(l,g,f),g=e(g,m,f);f=e(n,g,f);return[v(a,l,n,f),v(f,g,m,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function J(a,b,c,d,e,f,l){0<b[0]||0<b[1]?(a.push(["line",d[0].start.x,d[0].start.y]),d[0].curveTo(a),d[1].curveTo(a)):a.push(["line",f,l]);(0<c[0]||0<c[1])&&a.push(["line",e[0].start.x,e[0].start.y])}function M(a,
b,c,d,e,f,l){var g=[];return 0<b[0]||0<b[1]?(g.push(["line",d[1].start.x,d[1].start.y]),d[1].curveTo(g)):g.push(["line",a.c1[0],a.c1[1]]),0<c[0]||0<c[1]?(g.push(["line",f[0].start.x,f[0].start.y]),f[0].curveTo(g),g.push(["line",l[0].end.x,l[0].end.y]),l[0].curveToReversed(g)):(g.push(["line",a.c2[0],a.c2[1]]),g.push(["line",a.c3[0],a.c3[1]])),0<b[0]||0<b[1]?(g.push(["line",e[1].end.x,e[1].end.y]),e[1].curveToReversed(g)):g.push(["line",a.c4[0],a.c4[1]]),g}function F(a,b,c){var d,e,f,g,l,m,n,h,k,w,
q,H,r=b.left,B=b.top,E=b.width,y=b.height,p=x(a);h=b.left;k=b.top;m=b.width;n=b.height;e=p[0][0];f=p[0][1];g=p[1][0];l=p[1][1];var v=p[2][0],N=p[2][1];w=p[3][0];q=p[3][1];var F=m-g,t=n-N,u=m-v,z=n-q;d=K(h,k,e,f).topLeft.subdivide(.5);e=K(h+c[3].width,k+c[0].width,Math.max(0,e-c[3].width),Math.max(0,f-c[0].width)).topLeft.subdivide(.5);f=K(h+F,k,g,l).topRight.subdivide(.5);g=K(h+Math.min(F,m+c[3].width),k+c[0].width,F>m+c[3].width?0:g-c[3].width,l-c[0].width).topRight.subdivide(.5);l=K(h+u,k+t,v,N).bottomRight.subdivide(.5);
m=K(h+Math.min(u,m+c[3].width),k+Math.min(t,n+c[0].width),Math.max(0,v-c[1].width),Math.max(0,N-c[2].width)).bottomRight.subdivide(.5);n=K(h,k+z,w,q).bottomLeft.subdivide(.5);h=K(h+c[3].width,k+z,Math.max(0,w-c[3].width),Math.max(0,q-c[2].width)).bottomLeft.subdivide(.5);k=[];switch(s(a,"backgroundClip")){case "content-box":case "padding-box":J(k,p[0],p[1],e,g,b.left+c[3].width,b.top+c[0].width);J(k,p[1],p[2],g,m,b.left+b.width-c[1].width,b.top+c[0].width);J(k,p[2],p[3],m,h,b.left+b.width-c[1].width,
b.top+b.height-c[2].width);J(k,p[3],p[0],h,e,b.left+c[3].width,b.top+b.height-c[2].width);break;default:J(k,p[0],p[1],d,f,b.left,b.top),J(k,p[1],p[2],f,l,b.left+b.width,b.top),J(k,p[2],p[3],l,n,b.left+b.width,b.top+b.height),J(k,p[3],p[0],n,d,b.left,b.top+b.height)}z={clip:k,borders:[]};for(a=0;4>a;a++)if(0<c[a].width){switch(b=r,k=B,w=E,q=y-c[2].width,a){case 0:q=c[0].width;H=M({c1:[b,k],c2:[b+w,k],c3:[b+w-c[1].width,k+q],c4:[b+c[3].width,k+q]},p[0],p[1],d,e,f,g);break;case 1:b=r+E-c[1].width;w=
c[1].width;H=M({c1:[b+w,k],c2:[b+w,k+q+c[2].width],c3:[b,k+q],c4:[b,k+c[0].width]},p[1],p[2],f,g,l,m);break;case 2:k=k+y-c[2].width;q=c[2].width;H=M({c1:[b+w,k+q],c2:[b,k+q],c3:[b+c[3].width,k],c4:[b+w-c[3].width,k]},p[2],p[3],l,m,n,h);break;case 3:w=c[3].width,H=M({c1:[b,k+q+c[2].width],c2:[b,k],c3:[b+w,k+c[0].width],c4:[b+w,k+q]},p[3],p[0],n,h,d,e)}z.borders.push({args:H,color:c[a].color})}return z}function A(a,b){var c=a.drawShape();return b.forEach(function(a,b){c[0===b?"moveTo":a[0]+"To"].apply(null,
a.slice(1))}),c}function w(a,b,c){var d=z.createElement("valuewrap");"lineHeight textAlign fontFamily color fontSize paddingLeft paddingTop width height border borderLeftWidth borderTopWidth".split(" ").forEach(function(b){try{d.style[b]=s(a,b)}catch(c){u.log("html2canvas: Parse: Exception caught in renderFormValue: "+c.message)}});d.style.borderColor="black";d.style.borderStyle="solid";d.style.display="block";d.style.position="absolute";(/^(submit|reset|button|text|password)$/.test(a.type)||"SELECT"===
a.nodeName)&&(d.style.lineHeight=s(a,"height"));d.style.top=b.top+"px";d.style.left=b.left+"px";(b="SELECT"===a.nodeName?(a.options[a.selectedIndex]||0).text:a.value)||(b=a.placeholder);b=z.createTextNode(b);d.appendChild(b);O.appendChild(d);r(a,b,c);O.removeChild(d)}function H(a){a.drawImage.apply(a,Array.prototype.slice.call(arguments,1))}function N(b,c){var d=a.getComputedStyle(b,c);if(d&&d.content&&"none"!==d.content&&"-moz-alt-content"!==d.content&&"none"!==d.display){var e=d.content+"",f=e.substr(0,
1);f===e.substr(e.length-1)&&f.match(/'|"/)&&(e=e.substr(1,e.length-2));var f="url"===e.substr(0,3),g=t.createElement(f?"img":"span");return g.className=L+"-before "+L+"-after",Object.keys(d).filter(X).forEach(function(a){try{g.style[a]=d[a]}catch(b){u.log(["Tried to assign readonly property ",a,"Error:",b])}}),f?g.src=u.parseBackgroundImage(e)[0].args[0]:g.innerHTML=e,g}}function X(b){return isNaN(a.parseInt(b,10))}function Y(a,b){var c=N(a,":before"),d=N(a,":after");(c||d)&&(c&&(a.className+=" "+
L+"-before",a.parentNode.insertBefore(c,a),Q(c,b,!0),a.parentNode.removeChild(c),a.className=a.className.replace(L+"-before","").trim()),d&&(a.className+=" "+L+"-after",a.appendChild(d),Q(d,b,!0),a.removeChild(d),a.className=a.className.replace(L+"-after","").trim()))}function G(a,b,c,d){var e=Math.round(d.left+c.left);c=Math.round(d.top+c.top);a.createPattern(b);a.translate(e,c);a.fill();a.translate(-e,-c)}function R(a,b,c,d,e,f,g,l){var m=[];m.push(["line",Math.round(e),Math.round(f)]);m.push(["line",
Math.round(e+g),Math.round(f)]);m.push(["line",Math.round(e+g),Math.round(l+f)]);m.push(["line",Math.round(e),Math.round(l+f)]);A(a,m);a.save();a.clip();G(a,b,c,d);a.restore()}function Z(a,b,c){for(var d,e=s(a,"backgroundImage"),f=u.parseBackgroundImage(e),g=f.length;g--;)if(e=f[g],e.args&&0!==e.args.length)if(d=l("url"===e.method?e.args[0]:e.value)){var m=a,k=b,n=c,h=d;d=g;var w=u.BackgroundSize(m,k,h,d),q=u.BackgroundPosition(m,k,h,d,w),m=s(m,"backgroundRepeat").split(",").map(u.trimText);var p=
w;if(h.width!==p.width||h.height!==p.height)var w=void 0,r=z.createElement("canvas"),h=(r.width=p.width,r.height=p.height,w=r.getContext("2d"),H(w,h,0,0,h.width,h.height,0,0,p.width,p.height),r);switch(m[d]||m[0]){case "repeat-x":R(n,h,q,k,k.left,k.top+q.top,99999,h.height);break;case "repeat-y":R(n,h,q,k,k.left+q.left,k.top,h.width,99999);break;case "no-repeat":R(n,h,q,k,k.left+q.left,k.top+q.top,h.width,h.height);break;default:G(n,h,q,{top:k.top,left:k.left,width:h.width,height:h.height})}}else u.log("html2canvas: Error loading background:",
e)}function $(a){return a.replace("px","")}function aa(a){var b=s(a,"transform")||s(a,"-webkit-transform")||s(a,"-moz-transform")||s(a,"-ms-transform")||s(a,"-o-transform");a=s(a,"transform-origin")||s(a,"-webkit-transform-origin")||s(a,"-moz-transform-origin")||s(a,"-ms-transform-origin")||s(a,"-o-transform-origin")||"0px 0px";a=a.split(" ").map($).map(u.asFloat);var c;if(b&&"none"!==b&&(b=b.match(ba)))switch(b[1]){case "matrix":c=b[2].split(",").map(u.trimText).map(u.asFloat)}return{origin:a,matrix:c}}
function ca(a,b,d,e){var f=I(b?d.width:Math.max(Math.max(z.body.scrollWidth,z.documentElement.scrollWidth),Math.max(z.body.offsetWidth,z.documentElement.offsetWidth),Math.max(z.body.clientWidth,z.documentElement.clientWidth)),b?d.height:Math.max(Math.max(z.body.scrollHeight,z.documentElement.scrollHeight),Math.max(z.body.offsetHeight,z.documentElement.offsetHeight),Math.max(z.body.clientHeight,z.documentElement.clientHeight))),g;g=f.setVariable("globalAlpha",s(a,"opacity")*(b?b.opacity:1));e={ctx:f,
opacity:g,cssPosition:s(a,"position"),borders:y(a),transform:e,clip:b&&b.clip?u.Extend({},b.clip):null};var l=(g="static"!==e.cssPosition)?s(a,"zIndex"):"auto",m=s(a,"opacity"),k="none"!==s(a,"cssFloat");e.zIndex=f={zindex:l,children:[]};f.isPositioned=g;f.isFloated=k;f.opacity=m;f.ownStacking="auto"!==l||1>m;b&&b.zIndex.children.push(e);return!0===c.useOverflow&&!0===/(hidden|scroll|auto)/.test(s(a,"overflow"))&&!1===/(BODY)/i.test(a.nodeName)&&(e.clip=e.clip?E(e.clip,d):d),e}function da(a,b,c){a=
{left:b.left+a[3].width,top:b.top+a[0].width,width:b.width-(a[1].width+a[3].width),height:b.height-(a[0].width+a[2].width)};return c&&(a=E(a,c)),a}function ea(a,b){var c=b.matrix?u.OffsetBounds(a):u.Bounds(a);return b.origin[0]+=c.left,b.origin[1]+=c.top,c}function T(a,b,c,d){var e,k=aa(a,b),n=ea(a,k);b=ca(a,b,n,k);var k=b.borders,h=b.ctx,q=da(k,n,b.clip),p=F(a,n,k),H=U.test(a.nodeName)?"#efefef":s(a,"backgroundColor");A(h,p.clip);h.save();h.clip();0<q.height&&0<q.width&&!d?(g(h,n.left,n.top,n.width,
n.height,H),Z(a,q,h)):d&&(b.backgroundColor=H);switch(h.restore(),p.borders.forEach(function(a){var b=a.args;a=a.color;"transparent"!==a&&(h.setVariable("fillStyle",a),A(h,b),h.fill())}),c||Y(a,b),a.nodeName){case "IMG":(e=l(a.getAttribute("src")))?f(h,a,e,n,k):u.log("html2canvas: Error loading <img>:"+a.getAttribute("src"));break;case "INPUT":/^(text|url|email|submit|button|reset)$/.test(a.type)&&0<(a.value||a.placeholder||"").length&&w(a,n,b);break;case "TEXTAREA":0<(a.value||a.placeholder||"").length&&
w(a,n,b);break;case "SELECT":0<(a.options||a.placeholder||"").length&&w(a,n,b);break;case "LI":m(a,b,q);break;case "CANVAS":f(h,a,a,n,k)}return b}function Q(a,b,c){"none"!==s(a,"display")&&"hidden"!==s(a,"visibility")&&!a.hasAttribute("data-html2canvas-ignore")&&(b=T(a,b,c,!1)||b,U.test(a.nodeName)||V(a,b,c))}function V(a,b,c){u.Children(a).forEach(function(d){d.nodeType===d.ELEMENT_NODE?Q(d,b,c):d.nodeType===d.TEXT_NODE&&r(a,d,b)})}a.scroll(0,0);var P=c.elements===p?t.body:c.elements[0],z=P.ownerDocument,
u=h.Util,W=u.Support(c,z),U=RegExp("("+c.ignoreElements+")"),O=z.body,s=u.getCSS,L="___html2canvas___pseudoelement",S=z.createElement("style");S.innerHTML="."+L+'-before:before { content: "" !important; display: none !important; }.'+L+'-after:after { content: "" !important; display: none !important; }';O.appendChild(S);n=n||{};var K=function(a){return function(b,c,d,e){var f=d*a,g=e*a;d=b+d;e=c+e;return{topLeft:v({x:b,y:e},{x:b,y:e-g},{x:d-f,y:c},{x:d,y:c}),topRight:v({x:b,y:c},{x:b+f,y:c},{x:d,y:e-
g},{x:d,y:e}),bottomRight:v({x:d,y:c},{x:d,y:c+g},{x:b+f,y:e},{x:b,y:e}),bottomLeft:v({x:d,y:e},{x:d-f,y:e},{x:b,y:c+g},{x:b,y:c})}}}(4*((Math.sqrt(2)-1)/3)),ba=/(matrix)\((.+)\)/;return function(){var a=s(t.documentElement,"backgroundColor"),b=u.isTransparent(a)&&P===t.body,c=T(P,null,!1,b);return V(P,c),b&&(a=c.backgroundColor),O.removeChild(S),{backgroundColor:a,stack:c}}()};h.Preload=function(n){function c(){y.log("html2canvas: start: images: "+f.numLoaded+" / "+f.numTotal+" (failed: "+f.numFailed+
")");!f.firstRun&&f.numLoaded>=f.numTotal&&(y.log("Finished loading images: # "+f.numTotal+" (failed: "+f.numFailed+")"),"function"==typeof n.complete&&n.complete(f))}function d(b,d,e){var g,l,m=n.proxy;F.href=b;b=F.href;g="html2canvas_"+x++;e.callbackname=g;m+=-1<m.indexOf("?")?"&":"?";m+="url="+encodeURIComponent(b)+"&callback="+g;l=v.createElement("script");a[g]=function(b){"error:"===b.substring(0,6)?(e.succeeded=!1,f.numLoaded++,f.numFailed++,c()):(q(d,e),d.src=b);a[g]=p;try{delete a[g]}catch(m){}l.parentNode.removeChild(l);
l=null;delete e.script;delete e.callbackname};l.setAttribute("type","text/javascript");l.setAttribute("src",m);e.script=l;a.document.body.appendChild(l)}function g(b,c){var d=a.getComputedStyle(b,c),f=d.content;"url"===f.substr(0,3)&&m.loadImage(h.Util.parseBackgroundImage(f)[0].args[0]);e(d.backgroundImage,b)}function k(a){return a&&a.method&&a.args&&0<a.args.length}function e(a,b){var d;h.Util.parseBackgroundImage(a).filter(k).forEach(function(a){if("url"===a.method)m.loadImage(a.args[0]);else if(a.method.match(/\-?gradient$/)){d===
p&&(d=h.Util.Bounds(b));a=a.value;var e=h.Generate.Gradient(a,d);e!==p&&(f[a]={img:e,succeeded:!0},f.numTotal++,f.numLoaded++,c())}})}function b(a){var c=!1;try{y.Children(a).forEach(b)}catch(d){}try{c=a.nodeType}catch(f){c=!1,y.log("html2canvas: failed to access some element's nodeType - Exception: "+f.message)}if(1===c||c===p){g(a,":before");g(a,":after");try{e(y.getCSS(a,"backgroundImage"),a)}catch(l){y.log("html2canvas: failed to get background-image - Exception: "+l.message)}e(a)}}function q(b,
e){b.onload=function(){e.timer!==p&&a.clearTimeout(e.timer);f.numLoaded++;e.succeeded=!0;b.onerror=b.onload=null;c()};b.onerror=function(){if("anonymous"===b.crossOrigin&&(a.clearTimeout(e.timer),n.proxy)){var g=b.src;return b=new Image,e.img=b,b.src=g,d(b.src,b,e),p}f.numLoaded++;f.numFailed++;e.succeeded=!1;b.onerror=b.onload=null;c()}}var r,m,l,E,f={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},y=h.Util,x=0;l=n.elements[0]||t.body;var v=l.ownerDocument,J=l.getElementsByTagName("img"),M=J.length,
F=v.createElement("a"),A=function(a){return a.crossOrigin!==p}(new Image);F.href=a.location.href;r=F.protocol+F.host;m={loadImage:function(a){var b,c;a&&f[a]===p&&(b=new Image,a.match(/data:image\/.*;base64,/i)?(b.src=a.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),c=f[a]={img:b},f.numTotal++,q(b,c)):(F.href=a,F.href=F.href,F.protocol+F.host===r||!0===n.allowTaint?(c=f[a]={img:b},f.numTotal++,q(b,c),b.src=a):A&&!n.allowTaint&&n.useCORS?(b.crossOrigin="anonymous",c=f[a]={img:b},f.numTotal++,q(b,c),b.src=
a):n.proxy&&(c=f[a]={img:b},f.numTotal++,d(a,b,c))))},cleanupDOM:function(b){var d,e;if(!f.cleanupDone){b&&"string"==typeof b?y.log("html2canvas: Cleanup because: "+b):y.log("html2canvas: Cleanup after timeout: "+n.timeout+" ms.");for(e in f)if(f.hasOwnProperty(e)&&(d=f[e],"object"==typeof d&&d.callbackname&&d.succeeded===p)){a[d.callbackname]=p;try{delete a[d.callbackname]}catch(g){}d.script&&d.script.parentNode&&(d.script.setAttribute("src","about:blank"),d.script.parentNode.removeChild(d.script));
f.numLoaded++;f.numFailed++;y.log("html2canvas: Cleaned up failed img: '"+e+"' Steps: "+f.numLoaded+" / "+f.numTotal)}a.stop!==p?a.stop():t.execCommand!==p&&t.execCommand("Stop",!1);t.close!==p&&t.close();f.cleanupDone=!0;b&&"string"==typeof b||c()}},renderingDone:function(){E&&a.clearTimeout(E)}};0<n.timeout&&(E=a.setTimeout(m.cleanupDOM,n.timeout));y.log("html2canvas: Preload starts: finding background-images");f.firstRun=!0;b(l);y.log("html2canvas: Preload: Finding images");for(l=0;M>l;l+=1)m.loadImage(J[l].getAttribute("src"));
return f.firstRun=!1,y.log("html2canvas: Preload: Done."),f.numTotal===f.numLoaded&&c(),m};h.Renderer=function(a,c){return function(a){if("string"==typeof c.renderer&&h.Renderer[a]!==p)a=h.Renderer[a](c);else{if("function"!=typeof a)throw Error("Unknown renderer");a=a(c)}if("function"!=typeof a)throw Error("Invalid renderer defined");return a}(c.renderer)(a,c,t,function(a){function c(a){Object.keys(a).sort().forEach(function(d){var k=[],m=[],l=[],n=[];a[d].forEach(function(a){a.node.zIndex.isPositioned||
1>a.node.zIndex.opacity?l.push(a):a.node.zIndex.isFloated?m.push(a):k.push(a)});(function y(a){a.forEach(function(a){n.push(a);a.children&&y(a.children)})})(k.concat(m,l));n.forEach(function(a){a.context?c(a.context):e.push(a.node)})})}var k,e=[];return k=function(a){function c(a,b,d){var e="auto"===b.zIndex.zindex?0:Number(b.zIndex.zindex),g=a,k=b.zIndex.isPositioned,n=b.zIndex.isFloated,h={node:b},r=d;b.zIndex.ownStacking?(g=h.context={"!":[{node:b,children:[]}]},r=p):(k||n)&&(r=h.children=[]);
0===e&&d?d.push(h):(a[e]||(a[e]=[]),a[e].push(h));b.zIndex.children.forEach(function(a){c(g,a,r)})}var d={};return c(d,a),d}(a),c(k),e}(a.stack),h)};h.Util.Support=function(a,c){function d(){var a=new Image,d=c.createElement("canvas"),e=d.getContext===p?!1:d.getContext("2d");if(!1===e)return!1;d.width=d.height=10;a.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><foreignObject width='10' height='10'><div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>sup</div></foreignObject></svg>";
try{e.drawImage(a,0,0),d.toDataURL()}catch(b){return!1}return h.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}return{rangeBounds:function(){var a,d,e,b,n=!1;return c.createRange&&(a=c.createRange(),a.getBoundingClientRect&&(d=c.createElement("boundtest"),d.style.height="123px",d.style.display="block",c.body.appendChild(d),a.selectNode(d),e=a.getBoundingClientRect(),b=e.height,123===b&&(n=!0),c.body.removeChild(d))),n}(),svgRendering:a.svgRendering&&d()}};a.html2canvas=function(n,
c){n=n.length?n:[n];var d,g,k={logging:!1,elements:n,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return k=h.Util.Extend(c,k),h.logging=k.logging,k.complete=function(a){"function"==typeof k.onpreloaded&&!1===k.onpreloaded(a)||(d=h.Parse(a,k),"function"==typeof k.onparsed&&!1===k.onparsed(d)||(g=h.Renderer(d,k),"function"!=typeof k.onrendered||
k.onrendered(g)))},a.setTimeout(function(){h.Preload(k)},0),{render:function(a,b){return h.Renderer(a,h.Util.Extend(b,k))},parse:function(a,b){return h.Parse(a,h.Util.Extend(b,k))},preload:function(a){return h.Preload(h.Util.Extend(a,k))},log:h.Util.log}};a.html2canvas.log=h.Util.log;a.html2canvas.Renderer={Canvas:p};h.Renderer.Canvas=function(a){function c(a,b){a.beginPath();b.forEach(function(b){a[b.name].apply(a,b.arguments)});a.closePath()}a=a||{};var d=[],g=t.createElement("canvas"),k=g.getContext("2d"),
e=h.Util,b=a.canvas||t.createElement("canvas");return function(h,r,m,l,E){var f,y,x,v=b.getContext("2d"),A=h.stack;return b.width=b.style.width=r.width||A.ctx.width,b.height=b.style.height=r.height||A.ctx.height,x=v.fillStyle,v.fillStyle=e.isTransparent(A.backgroundColor)&&r.background!==p?r.background:h.backgroundColor,v.fillRect(0,0,b.width,b.height),v.fillStyle=x,l.forEach(function(b){v.textBaseline="bottom";v.save();b.transform.matrix&&(v.translate(b.transform.origin[0],b.transform.origin[1]),
v.transform.apply(v,b.transform.matrix),v.translate(-b.transform.origin[0],-b.transform.origin[1]));b.clip&&(v.beginPath(),v.rect(b.clip.left,b.clip.top,b.clip.width,b.clip.height),v.clip());b.ctx.storage&&b.ctx.storage.forEach(function(b){var f=v;switch(b.type){case "variable":f[b.name]=b.arguments;break;case "function":switch(b.name){case "createPattern":if(0<b.arguments[0].width&&0<b.arguments[0].height)try{f.fillStyle=f.createPattern(b.arguments[0],"repeat")}catch(l){e.log("html2canvas: Renderer: Error creating pattern",
l.message)}break;case "drawShape":c(f,b.arguments);break;case "drawImage":var m;if((m=0<b.arguments[8]&&0<b.arguments[7])&&!(m=!a.taintTest)&&(m=a.taintTest))a:{if(-1===d.indexOf(b.arguments[0].src)){k.drawImage(b.arguments[0],0,0);try{k.getImageData(0,0,1,1)}catch(h){m=(g=t.createElement("canvas"),k=g.getContext("2d"),!1);break a}d.push(b.arguments[0].src)}m=!0}m&&f.drawImage.apply(f,b.arguments);break;default:f[b.name].apply(f,b.arguments)}}});v.restore()}),e.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),
1===r.elements.length&&"object"==typeof r.elements[0]&&"BODY"!==r.elements[0].nodeName?(y=E.Util.Bounds(r.elements[0]),f=m.createElement("canvas"),f.width=Math.ceil(y.width),f.height=Math.ceil(y.height),v=f.getContext("2d"),v.drawImage(b,y.left,y.top,y.width,y.height,0,0,y.width,y.height),b=null,f):b}}})(window,document);(function(a){a.feedback=function(t){function p(){canDraw=!1;a(document).off("mouseenter mouseleave",".feedback-helper");a(document).off("mouseup keyup");a(document).off("mousedown",".feedback-setblackout");a(document).off("mousedown",".feedback-sethighlight");a(document).off("mousedown click","#feedback-close");a(document).off("mousedown","#feedback-canvas");a(document).off("click","#feedback-highlighter-next");a(document).off("click","#feedback-highlighter-back");a(document).off("click","#feedback-welcome-next");
a(document).off("click","#feedback-overview-back");a(document).off("mouseleave","body");a(document).off("mouseenter",".feedback-helper");a(document).off("selectstart dragstart",document);a("#feedback-module").off("click",".feedback-wizard-close,.feedback-close-btn");a(document).off("click","#feedback-submit");r.highlightElement&&(a(document).off("click","#feedback-canvas"),a(document).off("mousemove","#feedback-canvas"));a('[data-highlighted="true"]').removeAttr("data-highlight-id").removeAttr("data-highlighted");
a("#feedback-module").remove();a(".feedback-btn").show();r.onClose.call(this)}function x(h,c){c="undefined"!==typeof c?c:!0;h.clearRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());h.fillStyle="rgba(102,102,102,0.5)";h.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&c&&A(h,parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())});
a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&h.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())});a(".feedback-helper").each(function(){"blackout"==a(this).attr("data-type")&&(h.fillStyle="rgba(0,0,0,1)",h.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))})}function A(a,c,d,g,h){a.strokeStyle=r.strokeStyle;a.shadowColor=r.shadowColor;a.shadowOffsetX=
r.shadowOffsetX;a.shadowOffsetY=r.shadowOffsetY;a.shadowBlur=r.shadowBlur;a.lineJoin=r.lineJoin;a.lineWidth=r.lineWidth;a.strokeRect(c,d,g,h);a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0;a.lineWidth=1}function G(){var h=post.img.replace("data:image/png;base64","");a.ajax({url:"https://api.imgur.com/3/image",method:"POST",headers:{Authorization:"Client-ID f96237dac275b5e",Accept:"application/json"},data:{image:h,type:"base64"},success:function(c){r.imgurURL=String("https://i.imgur.com/"+c.data.id+
".png");a("#feedback-canvas").remove();I()}})}function I(){a.ajax({url:r.serverURL,type:"POST",crossDomain:!0,contentType:"application/json",data:JSON.stringify({url:r.githubpath,title:"Feedback: "+post.note.substring(0,20),body:post.note+"\n![screenshot]("+r.imgurURL+")\n"+JSON.stringify(post.browser)+"\n",labels:["feedback"]}),dataType:"text",success:function(a){console.log(a)},error:function(a){console.error("Failed to connect");console.log(a)}})}var r=a.extend({imgurURL:"",serverURL:"",githubpath:"",
postBrowserInfo:!0,postHTML:!0,postURL:!0,proxy:void 0,letterRendering:!1,initButtonText:"Feedback",strokeStyle:"black",shadowColor:"black",shadowOffsetX:1,shadowOffsetY:1,shadowBlur:10,lineJoin:"bevel",lineWidth:3,html2canvasURL:"html2canvas.js",tpl:{description:'<div id="feedback-welcome"><div class="feedback-logo">Feedback</div><p>Feedback lets you send us suggestions about our products. We welcome problem reports, feature ideas and general comments.</p><p>Start by writing a brief description:</p><textarea id="feedback-note-tmp"></textarea><p>Next we\'ll let you identify areas of the page related to your description.</p><button id="feedback-welcome-next" class="feedback-next-btn feedback-btn-gray">Next</button><div id="feedback-welcome-error">Please enter a description.</div><div class="feedback-wizard-close"></div></div>',
highlighter:'<div id="feedback-highlighter"><div class="feedback-logo">Feedback</div><p>Click and drag on the page to help us better understand your feedback. You can move this dialog if it\'s in the way.</p><button class="feedback-sethighlight feedback-active"><div class="ico"></div><span>Highlight</span></button><label>Highlight areas relevant to your feedback.</label><button class="feedback-setblackout"><div class="ico"></div><span>Black out</span></button><label class="lower">Black out any personal information.</label><div class="feedback-buttons"><button id="feedback-highlighter-next" class="feedback-next-btn feedback-btn-gray">Next</button><button id="feedback-highlighter-back" class="feedback-back-btn feedback-btn-gray">Back</button></div><div class="feedback-wizard-close"></div></div>',
overview:'<div id="feedback-overview"><div class="feedback-logo">Feedback</div><div id="feedback-overview-description"><div id="feedback-overview-description-text"><h3>Description</h3><h3 class="feedback-additional">Additional info</h3><div id="feedback-additional-none"><span>None</span></div><div id="feedback-browser-info"><span>Browser Info</span></div><div id="feedback-page-info"><span>Page Info</span></div><div id="feedback-page-structure"><span>Page Structure</span></div></div></div><div id="feedback-overview-screenshot"><h3>Screenshot</h3></div><div class="feedback-buttons"><button id="feedback-submit" class="feedback-submit-btn feedback-btn-blue">Submit</button><button id="feedback-overview-back" class="feedback-back-btn feedback-btn-gray">Back</button></div><div id="feedback-overview-error">Please enter a description.</div><div class="feedback-wizard-close"></div></div>',
submitSuccess:'<div id="feedback-submit-success"><div class="feedback-logo">Feedback</div><p>Thank you for your feedback. We value every piece of feedback we receive.</p><p>We cannot respond individually to every one, but we will use your comments as we strive to improve your experience.</p><button class="feedback-close-btn feedback-btn-blue">OK</button><div class="feedback-wizard-close"></div></div>',submitError:'<div id="feedback-submit-error"><div class="feedback-logo">Feedback</div><p>Sadly an error occured while sending your feedback. Please try again.</p><button class="feedback-close-btn feedback-btn-blue">OK</button><div class="feedback-wizard-close"></div></div>'},
onClose:function(){},screenshotStroke:!0,highlightElement:!0,initialBox:!1},t),h=!1;window.HTMLCanvasElement&&(a("body").append('<button class="feedback-btn feedback-btn-gray">'+r.initButtonText+"</button>"),a(document).on("click",".feedback-btn",function(){a(this).hide();h||a.getScript(r.html2canvasURL,function(){h=!0});var n=!1,c="",d=a(document).height(),g=a(document).width(),k='<div id="feedback-module">';r.initialBox&&(k+=r.tpl.description);k+=r.tpl.highlighter+r.tpl.overview+'<canvas id="feedback-canvas"></canvas><div id="feedback-helpers"></div><input id="feedback-note" name="feedback-note" type="hidden"></div>';
a("body").append(k);moduleStyle={position:"absolute",left:"0px",top:"0px"};canvasAttr={width:g,height:d};a("#feedback-module").css(moduleStyle);a("#feedback-canvas").attr(canvasAttr).css("z-index","30000");r.initialBox||(a("#feedback-highlighter-back").remove(),n=!0,a("#feedback-canvas").css("cursor","crosshair"),a("#feedback-helpers").show(),a("#feedback-welcome").hide(),a("#feedback-highlighter").show());a("#feedback-highlighter").on("mousedown",function(b){var c=a(this).addClass("feedback-draggable"),
d=c.outerHeight(),e=c.outerWidth(),g=c.offset().top+d-b.pageY,h=c.offset().left+e-b.pageX;c.css("z-index",4E4).parents().on("mousemove",function(b){_top=b.pageY+g-d;_left=b.pageX+h-e;_bottom=d-b.pageY;_right=e-b.pageX;0>_left&&(_left=0);0>_top&&(_top=0);_right>a(window).width()&&(_left=a(window).width()-e);_left>a(window).width()-e&&(_left=a(window).width()-e);_bottom>a(document).height()&&(_top=a(document).height()-d);_top>a(document).height()-d&&(_top=a(document).height()-d);a(".feedback-draggable").offset({top:_top,
left:_left}).on("mouseup",function(){a(this).removeClass("feedback-draggable")})});b.preventDefault()}).on("mouseup",function(){a(this).removeClass("feedback-draggable");a(this).parents().off("mousemove mousedown")});var e=a("#feedback-canvas")[0].getContext("2d");e.fillStyle="rgba(102,102,102,0.5)";e.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());rect={};drag=!1;highlight=1;post={};r.postBrowserInfo&&(post.browser={},post.browser.appCodeName=navigator.appCodeName,post.browser.appName=
navigator.appName,post.browser.appVersion=navigator.appVersion,post.browser.cookieEnabled=navigator.cookieEnabled,post.browser.onLine=navigator.onLine,post.browser.platform=navigator.platform,post.browser.userAgent=navigator.userAgent,post.browser.plugins=[],a.each(navigator.plugins,function(a){post.browser.plugins.push(navigator.plugins[a].name)}),a("#feedback-browser-info").show());r.postURL&&(post.url=document.URL,a("#feedback-page-info").show());r.postHTML&&(post.html=a("html").html(),a("#feedback-page-structure").show());
r.postBrowserInfo||r.postURL||r.postHTML||a("#feedback-additional-none").show();a(document).on("mousedown","#feedback-canvas",function(b){n&&(rect.startX=b.pageX-a(this).offset().left,rect.startY=b.pageY-a(this).offset().top,rect.w=0,rect.h=0,drag=!0)});a(document).on("mouseup",function(){if(n){drag=!1;var b=rect.startY,c=rect.startX,d=rect.w,f=rect.h;dtype="highlight";0!=d&&0!=f&&(0>d&&(c+=d,d*=-1),0>f&&(b+=f,f*=-1),b+f>a(document).height()&&(f=a(document).height()-b),c+d>a(document).width()&&(d=
a(document).width()-c),0==highlight&&(dtype="blackout"),a("#feedback-helpers").append('<div class="feedback-helper" data-type="'+dtype+'" data-time="'+Date.now()+'" style="position:absolute;top:'+b+"px;left:"+c+"px;width:"+d+"px;height:"+f+'px;z-index:30000;"></div>'),x(e),rect.w=0)}});a(document).on("mousemove",function(b){n&&drag&&(a("#feedback-highlighter").css("cursor","default"),rect.w=b.pageX-a("#feedback-canvas").offset().left-rect.startX,rect.h=b.pageY-a("#feedback-canvas").offset().top-rect.startY,
e.clearRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height()),e.fillStyle="rgba(102,102,102,0.5)",e.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height()),a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&A(e,parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())}),1==highlight&&(A(e,rect.startX,rect.startY,rect.w,rect.h),e.clearRect(rect.startX,rect.startY,rect.w,rect.h)),a(".feedback-helper").each(function(){"highlight"==
a(this).attr("data-type")&&e.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())}),a(".feedback-helper").each(function(){"blackout"==a(this).attr("data-type")&&(e.fillStyle="rgba(0,0,0,1)",e.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))}),0==highlight&&(e.fillStyle="rgba(0,0,0,0.5)",e.fillRect(rect.startX,rect.startY,rect.w,rect.h)))});if(r.highlightElement){var b=[],q=[],t=0;a(document).on("mousemove click",
"#feedback-canvas",function(c){if(n){x(e);q=[];a("#feedback-canvas").css("cursor","crosshair");a("* :not(body,script,iframe,div,section,.feedback-btn,#feedback-module *)").each(function(){"true"!==a(this).attr("data-highlighted")&&c.pageX>a(this).offset().left&&c.pageX<a(this).offset().left+a(this).width()&&c.pageY>a(this).offset().top+parseInt(a(this).css("padding-top"),10)&&c.pageY<a(this).offset().top+a(this).height()+parseInt(a(this).css("padding-top"),10)&&q.push(a(this))});var d=q[q.length-
1];if(d&&!drag){a("#feedback-canvas").css("cursor","pointer");var g=d.offset().left-2,f=d.offset().top-2,h=d.width()+parseInt(d.css("padding-left"),10)+parseInt(d.css("padding-right"),10)+6,d=d.height()+parseInt(d.css("padding-top"),10)+parseInt(d.css("padding-bottom"),10)+6;1==highlight&&(A(e,g,f,h,d),e.clearRect(g,f,h,d),dtype="highlight");a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&e.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),
a(this).height())});0==highlight&&(dtype="blackout",e.fillStyle="rgba(0,0,0,0.5)",e.fillRect(g,f,h,d));a(".feedback-helper").each(function(){"blackout"==a(this).attr("data-type")&&(e.fillStyle="rgba(0,0,0,1)",e.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))});"click"==c.type&&c.pageX==rect.startX&&c.pageY==rect.startY&&(a("#feedback-helpers").append('<div class="feedback-helper" data-highlight-id="'+t+'" data-type="'+dtype+'" data-time="'+
Date.now()+'" style="position:absolute;top:'+f+"px;left:"+g+"px;width:"+h+"px;height:"+d+'px;z-index:30000;"></div>'),b.push(t),++t,x(e))}}})}a(document).on("mouseleave","body,#feedback-canvas",function(){x(e)});a(document).on("mouseenter",".feedback-helper",function(){x(e)});a(document).on("click","#feedback-welcome-next",function(){0<a("#feedback-note").val().length?(n=!0,a("#feedback-canvas").css("cursor","crosshair"),a("#feedback-helpers").show(),a("#feedback-welcome").hide(),a("#feedback-highlighter").show()):
a("#feedback-welcome-error").show()});a(document).on("mouseenter mouseleave",".feedback-helper",function(b){drag||(rect.w=0,rect.h=0,"mouseenter"===b.type?(a(this).css("z-index","30001"),a(this).append('<div class="feedback-helper-inner" style="width:'+(a(this).width()-2)+"px;height:"+(a(this).height()-2)+'px;position:absolute;margin:1px;"></div>'),a(this).append('<div id="feedback-close"></div>'),a(this).find("#feedback-close").css({top:-1*(a(this).find("#feedback-close").height()/2)+"px",left:a(this).width()-
a(this).find("#feedback-close").width()/2+"px"}),"blackout"==a(this).attr("data-type")&&(e.clearRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height()),e.fillStyle="rgba(102,102,102,0.5)",e.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height()),a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&A(e,parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())}),a(".feedback-helper").each(function(){"highlight"==
a(this).attr("data-type")&&e.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())}),e.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()),e.fillStyle="rgba(0,0,0,0.75)",e.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()),ignore=a(this).attr("data-time"),a(".feedback-helper").each(function(){if(a(this).attr("data-time")==ignore)return!0;
"blackout"==a(this).attr("data-type")&&(e.fillStyle="rgba(0,0,0,1)",e.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))}))):(a(this).css("z-index","30000"),a(this).children().remove(),"blackout"==a(this).attr("data-type")&&x(e)))});a(document).on("click","#feedback-close",function(){if(r.highlightElement&&a(this).parent().attr("data-highlight-id"))var b=a(this).parent().attr("data-highlight-id");a(this).parent().remove();r.highlightElement&&
b&&a('[data-highlight-id="'+b+'"]').removeAttr("data-highlighted").removeAttr("data-highlight-id");x(e)});a("#feedback-module").on("click",".feedback-wizard-close,.feedback-close-btn",function(){p()});a(document).on("keyup",function(a){27==a.keyCode&&p()});a(document).on("selectstart dragstart",document,function(a){a.preventDefault()});a(document).on("click","#feedback-highlighter-back",function(){n=!1;a("#feedback-canvas").css("cursor","default");a("#feedback-helpers").hide();a("#feedback-highlighter").hide();
a("#feedback-welcome-error").hide();a("#feedback-welcome").show()});a(document).on("mousedown",".feedback-sethighlight",function(){highlight=1;a(this).addClass("feedback-active");a(".feedback-setblackout").removeClass("feedback-active")});a(document).on("mousedown",".feedback-setblackout",function(){highlight=0;a(this).addClass("feedback-active");a(".feedback-sethighlight").removeClass("feedback-active")});a(document).on("click","#feedback-highlighter-next",function(){n=!1;a("#feedback-canvas").css("cursor",
"default");var b=a(document).scrollTop(),d=a(window).height();a("#feedback-helpers").hide();a("#feedback-highlighter").hide();r.screenshotStroke||x(e,!1);html2canvas(a("body"),{onrendered:function(h){r.screenshotStroke||x(e);_canvas=a('<canvas id="feedback-canvas-tmp" width="'+g+'" height="'+d+'"/>').hide().appendTo("body");_ctx=_canvas.get(0).getContext("2d");_ctx.drawImage(h,0,b,g,d,0,0,g,d);c=_canvas.get(0).toDataURL();a(document).scrollTop(b);a("#feedback-canvas-tmp").remove();a("#feedback-overview").show();
a("#feedback-overview-description-text>textarea").remove();a("#feedback-overview-screenshot>img").remove();a('<textarea id="feedback-overview-note">'+a("#feedback-note").val()+"</textarea>").insertAfter("#feedback-overview-description-text h3:eq(0)");a("#feedback-overview-screenshot").append('<img class="feedback-screenshot" src="'+c+'" />')},proxy:r.proxy,letterRendering:r.letterRendering})});a(document).on("click","#feedback-overview-back",function(b){n=!0;a("#feedback-canvas").css("cursor","crosshair");
a("#feedback-overview").hide();a("#feedback-helpers").show();a("#feedback-highlighter").show();a("#feedback-overview-error").hide()});a(document).on("keyup","#feedback-note-tmp,#feedback-overview-note",function(b){"feedback-note-tmp"===b.target.id?b=a("#feedback-note-tmp").val():(b=a("#feedback-overview-note").val(),a("#feedback-note-tmp").val(b));a("#feedback-note").val(b)});a(document).on("click","#feedback-submit",function(){n=!1;0<a("#feedback-note").val().length?(a("#feedback-submit-success,#feedback-submit-error").remove(),
a("#feedback-overview").hide(),post.img=c,post.note=a("#feedback-note").val(),G()):a("#feedback-overview-error").show()})}))}})(jQuery);