var Base64=function(){return{encode:function(a){var v="",r,u,A,B,F,n,g=0;do r=a.charCodeAt(g++),u=a.charCodeAt(g++),A=a.charCodeAt(g++),B=r>>2,r=(r&3)<<4|u>>4,F=(u&15)<<2|A>>6,n=A&63,isNaN(u)?F=n=64:isNaN(A)&&(n=64),v=v+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(B)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(F)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n);
while(g<a.length);return v},decode:function(a){var v="",r,u,A,B,F,n=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),r=r<<2|u>>4,u=(u&15)<<
4|B>>2,A=(B&3)<<6|F,v+=String.fromCharCode(r),64!=B&&(v+=String.fromCharCode(u)),64!=F&&(v+=String.fromCharCode(A));while(n<a.length);return v}}}();"undefined"!==typeof exports?module.exports=Base64:window.Base64=Base64;(function(a){a.feedback=function(v){function r(){canDraw=!1;a(document).off("mouseenter mouseleave",".feedback-helper");a(document).off("mouseup keyup");a(document).off("mousedown",".feedback-setblackout");a(document).off("mousedown",".feedback-sethighlight");a(document).off("mousedown click","#feedback-close");a(document).off("mousedown","#feedback-canvas");a(document).off("click","#feedback-highlighter-next");a(document).off("click","#feedback-highlighter-back");a(document).off("click","#feedback-welcome-next");
a(document).off("click","#feedback-overview-back");a(document).off("mouseleave","body");a(document).off("mouseenter",".feedback-helper");a(document).off("selectstart dragstart",document);a("#feedback-module").off("click",".feedback-wizard-close,.feedback-close-btn");a(document).off("click","#feedback-submit");n.highlightElement&&(a(document).off("click","#feedback-canvas"),a(document).off("mousemove","#feedback-canvas"));a('[data-highlighted="true"]').removeAttr("data-highlight-id").removeAttr("data-highlighted");
a("#feedback-module").remove();a(".feedback-btn").show();n.onClose.call(this)}function u(m,d){d="undefined"!==typeof d?d:!0;m.clearRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());m.fillStyle="rgba(102,102,102,0.5)";m.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&d&&A(m,parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())});
a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&m.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())});a(".feedback-helper").each(function(){"blackout"==a(this).attr("data-type")&&(m.fillStyle="rgba(0,0,0,1)",m.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))})}function A(a,d,c,f,l){a.strokeStyle=n.strokeStyle;a.shadowColor=n.shadowColor;a.shadowOffsetX=
n.shadowOffsetX;a.shadowOffsetY=n.shadowOffsetY;a.shadowBlur=n.shadowBlur;a.lineJoin=n.lineJoin;a.lineWidth=n.lineWidth;a.strokeRect(d,c,f,l);a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0;a.lineWidth=1}function B(){var m=post.img.replace("data:image/png;base64","");a.ajax({url:"https://api.imgur.com/3/image",method:"POST",headers:{Authorization:"Client-ID f96237dac275b5e",Accept:"application/json"},data:{image:m,type:"base64"},success:function(m){n.imgurURL=String("https://i.imgur.com/"+m.data.id+
".png");a("#feedback-canvas").remove();F()}})}function F(){a.ajax({url:n.serverURL,type:"POST",crossDomain:!0,contentType:"application/json",data:JSON.stringify({url:n.githubpath,title:"Feedback: "+post.note.substring(0,20),body:post.note+"\n![screenshot]("+n.imgurURL+")\n"+JSON.stringify(post.browser)+"\n",labels:["feedback"]}),dataType:"text",success:function(a){console.log(a)},error:function(a){console.error("Failed to connect");console.log(a)}})}var n=a.extend({imgurURL:"",serverURL:"",githubpath:"",
placement:"bottom",hexColor:"#146eb4",postBrowserInfo:!0,postHTML:!0,postURL:!0,proxy:void 0,letterRendering:!1,initButtonText:"Feedback",strokeStyle:"black",shadowColor:"black",shadowOffsetX:1,shadowOffsetY:1,shadowBlur:10,lineJoin:"bevel",lineWidth:3,html2canvasURL:"html2canvas.js",tpl:{description:'<div id="feedback-welcome"><div class="feedback-logo">Feedback</div><p>Feedback lets you send us suggestions about our products. We welcome problem reports, feature ideas and general comments.</p><p>Start by writing a brief description:</p><textarea id="feedback-note-tmp"></textarea><p>Next we\'ll let you identify areas of the page related to your description.</p><button id="feedback-welcome-next" class="feedback-next-btn feedback-btn-gray">Next</button><div id="feedback-welcome-error">Please enter a description.</div><div class="feedback-wizard-close"></div></div>',
highlighter:'<div id="feedback-highlighter"><div class="feedback-logo">Feedback</div><p>Click and drag on the page to help us better understand your feedback. You can move this dialog if it\'s in the way.</p><button class="feedback-sethighlight feedback-active"><div class="ico"></div><span>Highlight</span></button><label>Highlight areas relevant to your feedback.</label><button class="feedback-setblackout"><div class="ico"></div><span>Black out</span></button><label class="lower">Black out any personal information.</label><div class="feedback-buttons"><button id="feedback-highlighter-next" class="feedback-next-btn feedback-btn-gray">Next</button><button id="feedback-highlighter-back" class="feedback-back-btn feedback-btn-gray">Back</button></div><div class="feedback-wizard-close"></div></div>',
overview:'<div id="feedback-overview"><div class="feedback-logo">Feedback</div><div id="feedback-overview-description"><div id="feedback-overview-description-text"><h3>Description</h3><h3 class="feedback-additional">Additional info</h3><div id="feedback-additional-none"><span>None</span></div><div id="feedback-browser-info"><span>Browser Info</span></div><div id="feedback-page-info"><span>Page Info</span></div><div id="feedback-page-structure"><span>Page Structure</span></div></div></div><div id="feedback-overview-screenshot"><h3>Screenshot</h3></div><div class="feedback-buttons"><button id="feedback-submit" class="feedback-submit-btn feedback-btn-blue">Submit</button><button id="feedback-overview-back" class="feedback-back-btn feedback-btn-gray">Back</button></div><div id="feedback-overview-error">Please enter a description.</div><div class="feedback-wizard-close"></div></div>',
submitSuccess:'<div id="feedback-submit-success"><div class="feedback-logo">Feedback</div><p>Thank you for your feedback. We value every piece of feedback we receive.</p><p>We cannot respond individually to every one, but we will use your comments as we strive to improve your experience.</p><button class="feedback-close-btn feedback-btn-blue">OK</button><div class="feedback-wizard-close"></div></div>',submitError:'<div id="feedback-submit-error"><div class="feedback-logo">Feedback</div><p>Sadly an error occured while sending your feedback. Please try again.</p><button class="feedback-close-btn feedback-btn-blue">OK</button><div class="feedback-wizard-close"></div></div>'},
onClose:function(){},screenshotStroke:!0,highlightElement:!0,initialBox:!1},v),g=!1;window.HTMLCanvasElement&&(a("body").eq(0).append('<button style="background:'+n.hexColor+'" class="feedback-btn feedback-btn-blue feedback-placement-'+n.placement+'">'+n.initButtonText+"</button>"),a(document).on("click",".feedback-btn",function(){a(this).hide();g||a.getScript(n.html2canvasURL,function(){g=!0});var m=!1,d="",c=a(document).height(),f=a(document).width(),l='<div id="feedback-module">';n.initialBox&&
(l+=n.tpl.description);l+=n.tpl.highlighter+n.tpl.overview+'<canvas id="feedback-canvas"></canvas><div id="feedback-helpers"></div><input id="feedback-note" name="feedback-note" type="hidden"></div>';a("body").eq(0).append(l);moduleStyle={position:"absolute",left:"0px",top:"0px"};canvasAttr={width:f,height:c};a("#feedback-module").css(moduleStyle);a("#feedback-canvas").attr(canvasAttr).css("z-index","30000");n.initialBox||(a("#feedback-highlighter-back").remove(),m=!0,a("#feedback-canvas").css("cursor",
"crosshair"),a("#feedback-helpers").show(),a("#feedback-welcome").hide(),a("#feedback-highlighter").show());a("#feedback-highlighter").on("mousedown",function(b){var m=a(this).addClass("feedback-draggable"),e=m.outerHeight(),d=m.outerWidth(),k=m.offset().top+e-b.pageY,c=m.offset().left+d-b.pageX;m.css("z-index",4E4).parents().on("mousemove",function(b){_top=b.pageY+k-e;_left=b.pageX+c-d;_bottom=e-b.pageY;_right=d-b.pageX;0>_left&&(_left=0);0>_top&&(_top=0);_right>a(window).width()&&(_left=a(window).width()-
d);_left>a(window).width()-d&&(_left=a(window).width()-d);_bottom>a(document).height()&&(_top=a(document).height()-e);_top>a(document).height()-e&&(_top=a(document).height()-e);a(".feedback-draggable").offset({top:_top,left:_left}).on("mouseup",function(){a(this).removeClass("feedback-draggable")})});b.preventDefault()}).on("mouseup",function(){a(this).removeClass("feedback-draggable");a(this).parents().off("mousemove mousedown")});var e=a("#feedback-canvas")[0].getContext("2d");e.fillStyle="rgba(102,102,102,0.5)";
e.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());rect={};drag=!1;highlight=1;post={};n.postBrowserInfo&&(post.browser={},post.browser.appCodeName=navigator.appCodeName,post.browser.appName=navigator.appName,post.browser.appVersion=navigator.appVersion,post.browser.cookieEnabled=navigator.cookieEnabled,post.browser.onLine=navigator.onLine,post.browser.platform=navigator.platform,post.browser.userAgent=navigator.userAgent,post.browser.plugins=[],a.each(navigator.plugins,
function(a){post.browser.plugins.push(navigator.plugins[a].name)}),a("#feedback-browser-info").show());n.postURL&&(post.url=document.URL,a("#feedback-page-info").show());n.postHTML&&(post.html=a("html").html(),a("#feedback-page-structure").show());n.postBrowserInfo||n.postURL||n.postHTML||a("#feedback-additional-none").show();a(document).on("mousedown","#feedback-canvas",function(b){m&&(rect.startX=b.pageX-a(this).offset().left,rect.startY=b.pageY-a(this).offset().top,rect.w=0,rect.h=0,drag=!0)});
a(document).on("mouseup",function(){if(m){drag=!1;var b=rect.startY,d=rect.startX,k=rect.w,c=rect.h;dtype="highlight";0!=k&&0!=c&&(0>k&&(d+=k,k*=-1),0>c&&(b+=c,c*=-1),b+c>a(document).height()&&(c=a(document).height()-b),d+k>a(document).width()&&(k=a(document).width()-d),0==highlight&&(dtype="blackout"),a("#feedback-helpers").append('<div class="feedback-helper" data-type="'+dtype+'" data-time="'+Date.now()+'" style="position:absolute;top:'+b+"px;left:"+d+"px;width:"+k+"px;height:"+c+'px;z-index:30000;"></div>'),
u(e),rect.w=0)}});a(document).on("mousemove",function(b){m&&drag&&(a("#feedback-highlighter").css("cursor","default"),rect.w=b.pageX-a("#feedback-canvas").offset().left-rect.startX,rect.h=b.pageY-a("#feedback-canvas").offset().top-rect.startY,e.clearRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height()),e.fillStyle="rgba(102,102,102,0.5)",e.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height()),a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&
A(e,parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())}),1==highlight&&(A(e,rect.startX,rect.startY,rect.w,rect.h),e.clearRect(rect.startX,rect.startY,rect.w,rect.h)),a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&e.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())}),a(".feedback-helper").each(function(){"blackout"==a(this).attr("data-type")&&(e.fillStyle="rgba(0,0,0,1)",
e.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))}),0==highlight&&(e.fillStyle="rgba(0,0,0,0.5)",e.fillRect(rect.startX,rect.startY,rect.w,rect.h)))});if(n.highlightElement){var b=[],k=[],t=0;a(document).on("mousemove click","#feedback-canvas",function(d){if(m){u(e);k=[];a("#feedback-canvas").css("cursor","crosshair");a("* :not(body,script,iframe,div,section,.feedback-btn,#feedback-module *)").each(function(){"true"!==a(this).attr("data-highlighted")&&
d.pageX>a(this).offset().left&&d.pageX<a(this).offset().left+a(this).width()&&d.pageY>a(this).offset().top+parseInt(a(this).css("padding-top"),10)&&d.pageY<a(this).offset().top+a(this).height()+parseInt(a(this).css("padding-top"),10)&&k.push(a(this))});var c=k[k.length-1];if(c&&!drag){a("#feedback-canvas").css("cursor","pointer");var f=c.offset().left-2,h=c.offset().top-2,l=c.width()+parseInt(c.css("padding-left"),10)+parseInt(c.css("padding-right"),10)+6,c=c.height()+parseInt(c.css("padding-top"),
10)+parseInt(c.css("padding-bottom"),10)+6;1==highlight&&(A(e,f,h,l,c),e.clearRect(f,h,l,c),dtype="highlight");a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&e.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())});0==highlight&&(dtype="blackout",e.fillStyle="rgba(0,0,0,0.5)",e.fillRect(f,h,l,c));a(".feedback-helper").each(function(){"blackout"==a(this).attr("data-type")&&(e.fillStyle="rgba(0,0,0,1)",e.fillRect(parseInt(a(this).css("left"),
10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))});"click"==d.type&&d.pageX==rect.startX&&d.pageY==rect.startY&&(a("#feedback-helpers").append('<div class="feedback-helper" data-highlight-id="'+t+'" data-type="'+dtype+'" data-time="'+Date.now()+'" style="position:absolute;top:'+h+"px;left:"+f+"px;width:"+l+"px;height:"+c+'px;z-index:30000;"></div>'),b.push(t),++t,u(e))}}})}a(document).on("mouseleave","body,#feedback-canvas",function(){u(e)});a(document).on("mouseenter",".feedback-helper",
function(){u(e)});a(document).on("click","#feedback-welcome-next",function(){0<a("#feedback-note").val().length?(m=!0,a("#feedback-canvas").css("cursor","crosshair"),a("#feedback-helpers").show(),a("#feedback-welcome").hide(),a("#feedback-highlighter").show()):a("#feedback-welcome-error").show()});a(document).on("mouseenter mouseleave",".feedback-helper",function(b){drag||(rect.w=0,rect.h=0,"mouseenter"===b.type?(a(this).css("z-index","30001"),a(this).append('<div class="feedback-helper-inner" style="width:'+
(a(this).width()-2)+"px;height:"+(a(this).height()-2)+'px;position:absolute;margin:1px;"></div>'),a(this).append('<div id="feedback-close"></div>'),a(this).find("#feedback-close").css({top:-1*(a(this).find("#feedback-close").height()/2)+"px",left:a(this).width()-a(this).find("#feedback-close").width()/2+"px"}),"blackout"==a(this).attr("data-type")&&(e.clearRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height()),e.fillStyle="rgba(102,102,102,0.5)",e.fillRect(0,0,a("#feedback-canvas").width(),
a("#feedback-canvas").height()),a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&A(e,parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())}),a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&e.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())}),e.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()),
e.fillStyle="rgba(0,0,0,0.75)",e.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()),ignore=a(this).attr("data-time"),a(".feedback-helper").each(function(){if(a(this).attr("data-time")==ignore)return!0;"blackout"==a(this).attr("data-type")&&(e.fillStyle="rgba(0,0,0,1)",e.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))}))):(a(this).css("z-index","30000"),a(this).children().remove(),
"blackout"==a(this).attr("data-type")&&u(e)))});a(document).on("click","#feedback-close",function(){if(n.highlightElement&&a(this).parent().attr("data-highlight-id"))var b=a(this).parent().attr("data-highlight-id");a(this).parent().remove();n.highlightElement&&b&&a('[data-highlight-id="'+b+'"]').removeAttr("data-highlighted").removeAttr("data-highlight-id");u(e)});a("#feedback-module").on("click",".feedback-wizard-close,.feedback-close-btn",function(){r()});a(document).on("keyup",function(a){27==
a.keyCode&&r()});a(document).on("selectstart dragstart",document,function(a){a.preventDefault()});a(document).on("click","#feedback-highlighter-back",function(){m=!1;a("#feedback-canvas").css("cursor","default");a("#feedback-helpers").hide();a("#feedback-highlighter").hide();a("#feedback-welcome-error").hide();a("#feedback-welcome").show()});a(document).on("mousedown",".feedback-sethighlight",function(){highlight=1;a(this).addClass("feedback-active");a(".feedback-setblackout").removeClass("feedback-active")});
a(document).on("mousedown",".feedback-setblackout",function(){highlight=0;a(this).addClass("feedback-active");a(".feedback-sethighlight").removeClass("feedback-active")});a(document).on("click","#feedback-highlighter-next",function(){m=!1;a("#feedback-canvas").css("cursor","default");var b=a(document).scrollTop(),c=a(window).height();a("#feedback-helpers").hide();a("#feedback-highlighter").hide();n.screenshotStroke||u(e,!1);html2canvas(a("body").eq(0),{onrendered:function(m){n.screenshotStroke||u(e);
_canvas=a('<canvas id="feedback-canvas-tmp" width="'+f+'" height="'+c+'"/>').hide().appendTo(a("body").eq(0));_ctx=_canvas.get(0).getContext("2d");_ctx.drawImage(m,0,b,f,c,0,0,f,c);d=_canvas.get(0).toDataURL();a(document).scrollTop(b);a("#feedback-canvas-tmp").remove();a("#feedback-overview").show();a("#feedback-overview-description-text>textarea").remove();a("#feedback-overview-screenshot>img").remove();a('<textarea id="feedback-overview-note">'+a("#feedback-note").val()+"</textarea>").insertAfter("#feedback-overview-description-text h3:eq(0)");
a("#feedback-overview-screenshot").append('<img class="feedback-screenshot" src="'+d+'" />')},proxy:n.proxy,letterRendering:n.letterRendering})});a(document).on("click","#feedback-overview-back",function(b){m=!0;a("#feedback-canvas").css("cursor","crosshair");a("#feedback-overview").hide();a("#feedback-helpers").show();a("#feedback-highlighter").show();a("#feedback-overview-error").hide()});a(document).on("keyup","#feedback-note-tmp,#feedback-overview-note",function(b){"feedback-note-tmp"===b.target.id?
b=a("#feedback-note-tmp").val():(b=a("#feedback-overview-note").val(),a("#feedback-note-tmp").val(b));a("#feedback-note").val(b)});a(document).on("click","#feedback-submit",function(){m=!1;0<a("#feedback-note").val().length?(a("#feedback-submit-success,#feedback-submit-error").remove(),a("#feedback-overview").hide(),post.img=d,post.note=a("#feedback-note").val(),B()):a("#feedback-overview-error").show()})}))}})(jQuery);(function(a,v,r){function u(a,d,c){var f,l=a.runtimeStyle&&a.runtimeStyle[d],e=a.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(c)&&/^-?\d/.test(c)&&(f=e.left,l&&(a.runtimeStyle.left=a.currentStyle.left),e.left="fontSize"===d?"1em":c||0,c=e.pixelLeft+"px",e.left=f,l&&(a.runtimeStyle.left=l)),/^(thin|medium|thick)$/i.test(c)?c:Math.round(parseFloat(c))+"px"}function A(a){return parseInt(a,10)}function B(a,d,c,f,l,e){var b,k,t;d=g.Util.getCSS(d,a,l);(1===d.length&&(k=d[0],d=[],d[0]=k,d[1]=k),-1!==
(""+d[0]).indexOf("%"))?(t=parseFloat(d[0])/100,k=c.width*t,"backgroundSize"!==a&&(k-=(e||f).width*t)):"backgroundSize"===a?"auto"===d[0]?k=f.width:/contain|cover/.test(d[0])?(b=g.Util.resizeBounds(f.width,f.height,c.width,c.height,d[0]),k=b.width,b=b.height):k=parseInt(d[0],10):k=parseInt(d[0],10);return"auto"===d[1]?b=k/f.width*f.height:-1!==(""+d[1]).indexOf("%")?(t=parseFloat(d[1])/100,b=c.height*t,"backgroundSize"!==a&&(b-=(e||f).height*t)):b=parseInt(d[1],10),[k,b]}function F(a,d){var c=[];
return{storage:c,width:a,height:d,clip:function(){c.push({type:"function",name:"clip",arguments:arguments})},translate:function(){c.push({type:"function",name:"translate",arguments:arguments})},fill:function(){c.push({type:"function",name:"fill",arguments:arguments})},save:function(){c.push({type:"function",name:"save",arguments:arguments})},restore:function(){c.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){c.push({type:"function",name:"fillRect",arguments:arguments})},
createPattern:function(){c.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var a=[];return c.push({type:"function",name:"drawShape",arguments:a}),{moveTo:function(){a.push({name:"moveTo",arguments:arguments})},lineTo:function(){a.push({name:"lineTo",arguments:arguments})},arcTo:function(){a.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){a.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){a.push({name:"quadraticCurveTo",
arguments:arguments})}}},drawImage:function(){c.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){c.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,m){return c.push({type:"variable",name:a,arguments:m}),m}}}var n,g={Util:{}};g.Util.log=function(m){g.logging&&a.console&&a.console.log&&a.console.log(m)};g.Util.trimText=function(a){return function(d){return a?a.apply(d):((d||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim);
g.Util.asFloat=function(a){return parseFloat(a)};(function(){var a=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,d=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;g.Util.parseTextShadows=function(c){if(!c||"none"===c)return[];c=c.match(a);for(var f=[],l=0;c&&c.length>l;l++){var e=c[l].match(d);f.push({color:e[0],offsetX:e[1]?e[1].replace("px",""):0,offsetY:e[2]?e[2].replace("px",""):0,blur:e[3]?e[3].replace("px",""):0})}return f}})();g.Util.parseBackgroundImage=function(a){var d,c,f,l,e,b,k,t,g=[],p=0,n=0,
h=function(){d&&('"'===c.substr(0,1)&&(c=c.substr(1,c.length-2)),c&&t.push(c),"-"===d.substr(0,1)&&0<(l=d.indexOf("-",1)+1)&&(f=d.substr(0,l),d=d.substr(l)),g.push({prefix:f,method:d.toLowerCase(),value:e,args:t}));t=[];d=f=c=e=""};h();for(var r=0,v=a.length;v>r;r++)if(b=a[r],!(0===p&&-1<" \r\n\t".indexOf(b))){switch(b){case '"':k?k===b&&(k=null):k=b;break;case "(":if(k)break;if(0===p){p=1;e+=b;continue}n++;break;case ")":if(k)break;if(1===p){if(0===n){p=0;e+=b;h();continue}n--}break;case ",":if(k)break;
if(0===p){h();continue}if(1===p&&0===n&&!d.match(/^url$/i)){t.push(c);c="";e+=b;continue}}e+=b;0===p?d+=b:c+=b}return h(),g};g.Util.Bounds=function(a){var d,c={};return a.getBoundingClientRect&&(d=a.getBoundingClientRect(),c.top=d.top,c.bottom=d.bottom||d.top+d.height,c.left=d.left,c.width=a.offsetWidth,c.height=a.offsetHeight),c};g.Util.OffsetBounds=function(a){var d=a.offsetParent?g.Util.OffsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+d.top,bottom:a.offsetTop+a.offsetHeight+d.top,
left:a.offsetLeft+d.left,width:a.offsetWidth,height:a.offsetHeight}};g.Util.getCSS=function(a,d,c){void 0!==a&&(n=v.defaultView.getComputedStyle(a,null));var f=n[d];if(/^background(Size|Position)$/.test(d)){a:{if(f=(f||"").split(","),f=f[c||0]||f[0]||"auto",f=g.Util.trimText(f).split(" "),"backgroundSize"!==d||f[0]&&!f[0].match(/cover|contain|auto/)){if(f[0]=-1===f[0].indexOf("%")?u(a,d+"X",f[0]):f[0],f[1]===r){if("backgroundSize"===d){a=(f[1]="auto",f);break a}f[1]=f[0]}f[1]=-1===f[1].indexOf("%")?
u(a,d+"Y",f[1]):f[1]}a=f}return a}return/border(Top|Bottom)(Left|Right)Radius/.test(d)?(a=f.split(" "),1>=a.length&&(a[1]=a[0]),a.map(A)):f};g.Util.resizeBounds=function(a,d,c,f,l){var e,b;a/=d;return l&&"auto"!==l?a>c/f^"contain"===l?(b=f,e=f*a):(e=c,b=c/a):(e=c,b=f),{width:e,height:b}};g.Util.BackgroundPosition=function(a,d,c,f,l){a=B("backgroundPosition",a,d,c,f,l);return{left:a[0],top:a[1]}};g.Util.BackgroundSize=function(a,d,c,f){a=B("backgroundSize",a,d,c,f);return{width:a[0],height:a[1]}};
g.Util.Extend=function(a,d){for(var c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);return d};g.Util.Children=function(a){var d;try{var c;if(a.nodeName&&"IFRAME"===a.nodeName.toUpperCase())c=a.contentDocument||a.contentWindow.document;else{var f=a.childNodes;a=[];if(null!==f){var l=a.length,e=0;if("number"==typeof f.length)for(var b=f.length;b>e;e++)a[l++]=f[e];else for(;f[e]!==r;)a[l++]=f[e++];a.length=l}c=a}d=c}catch(k){g.Util.log("html2canvas.Util.Children failed with exception: "+k.message),d=[]}return d};
g.Util.isTransparent=function(a){return"transparent"===a||"rgba(0, 0, 0, 0)"===a};g.Util.Font=function(){var a={};return function(d,c,f){if(a[d+"-"+c]!==r)return a[d+"-"+c];var l,e,b,k=f.createElement("div"),t=f.createElement("img"),g=f.createElement("span");return k.style.visibility="hidden",k.style.fontFamily=d,k.style.fontSize=c,k.style.margin=0,k.style.padding=0,f.body.appendChild(k),t.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",t.width=1,t.height=1,t.style.margin=
0,t.style.padding=0,t.style.verticalAlign="baseline",g.style.fontFamily=d,g.style.fontSize=c,g.style.margin=0,g.style.padding=0,g.appendChild(f.createTextNode("Hidden Text")),k.appendChild(g),k.appendChild(t),l=t.offsetTop-g.offsetTop+1,k.removeChild(g),k.appendChild(f.createTextNode("Hidden Text")),k.style.lineHeight="normal",t.style.verticalAlign="super",e=t.offsetTop-k.offsetTop+1,b={baseline:l,lineWidth:1,middle:e},a[d+"-"+c]=b,f.body.removeChild(k),b}}();(function(){function a(c){return function(a){try{c.addColorStop(a.stop,
a.color)}catch(b){d.log(["failed to add color stop: ",b,"; tried to add: ",a])}}}var d=g.Util,c={};g.Generate=c;var f=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,
/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];c.parseGradient=function(a,e){var b,c,d,g,p,m,h;m=f.length;for(c=0;m>c&&!(d=a.match(f[c]));c+=1);if(d)switch(d[1]){case "-webkit-linear-gradient":case "-o-linear-gradient":if(b={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},p=d[2].match(/\w+/g))for(m=p.length,c=0;m>c;c+=1)switch(p[c]){case "top":b.y0=
0;b.y1=e.height;break;case "right":b.x0=e.width;b.x1=0;break;case "bottom":b.y0=e.height;b.y1=0;break;case "left":b.x0=0,b.x1=e.width}if(null===b.x0&&null===b.x1&&(b.x0=b.x1=e.width/2),null===b.y0&&null===b.y1&&(b.y0=b.y1=e.height/2),p=d[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(m=p.length,d=1/Math.max(m-1,1),c=0;m>c;c+=1)h=p[c].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),h[2]?(g=parseFloat(h[2]),
g/="%"===h[3]?100:e.width):g=c*d,b.colorStops.push({color:h[1],stop:g});break;case "-webkit-gradient":if(b={type:"radial"===d[2]?"circle":d[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},p=d[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),p&&(b.x0=p[1]*e.width/100,b.y0=p[2]*e.height/100,b.x1=p[3]*e.width/100,b.y1=p[4]*e.height/100),p=d[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(m=p.length,c=0;m>c;c+=1)h=p[c].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),
g=parseFloat(h[2]),"from"===h[1]&&(g=0),"to"===h[1]&&(g=1),b.colorStops.push({color:h[3],stop:g});break;case "-moz-linear-gradient":if(b={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},p=d[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),p&&(b.x0=p[1]*e.width/100,b.y0=p[2]*e.height/100,b.x1=e.width-b.x0,b.y1=e.height-b.y0),p=d[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(m=p.length,d=1/Math.max(m-1,1),c=0;m>c;c+=1)h=p[c].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),
h[2]?(g=parseFloat(h[2]),h[3]&&(g/=100)):g=c*d,b.colorStops.push({color:h[1],stop:g});break;case "-webkit-radial-gradient":case "-moz-radial-gradient":case "-o-radial-gradient":if(b={type:"circle",x0:0,y0:0,x1:e.width,y1:e.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},p=d[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),p&&(b.cx=p[1]*e.width/100,b.cy=p[2]*e.height/100),p=d[3].match(/\w+/),h=d[4].match(/[a-z\-]*/),p&&h)switch(h[0]){case "farthest-corner":case "cover":case "":c=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.cy,
2));p=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.y1-b.cy,2));h=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.y1-b.cy,2));m=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.cy,2));b.rx=b.ry=Math.max(c,p,h,m);break;case "closest-corner":c=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.cy,2));p=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.y1-b.cy,2));h=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.y1-b.cy,2));m=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.cy,2));b.rx=b.ry=Math.min(c,p,h,m);break;case "farthest-side":"circle"===p[0]?b.rx=
b.ry=Math.max(b.cx,b.cy,b.x1-b.cx,b.y1-b.cy):(b.type=p[0],b.rx=Math.max(b.cx,b.x1-b.cx),b.ry=Math.max(b.cy,b.y1-b.cy));break;case "closest-side":case "contain":"circle"===p[0]?b.rx=b.ry=Math.min(b.cx,b.cy,b.x1-b.cx,b.y1-b.cy):(b.type=p[0],b.rx=Math.min(b.cx,b.x1-b.cx),b.ry=Math.min(b.cy,b.y1-b.cy))}if(p=d[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(m=p.length,d=1/Math.max(m-1,1),c=0;m>c;c+=1)h=p[c].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),
h[2]?(g=parseFloat(h[2]),g/="%"===h[3]?100:e.width):g=c*d,b.colorStops.push({color:h[1],stop:g})}return b};c.Gradient=function(c,d){if(0!==d.width&&0!==d.height){var b,f,t=v.createElement("canvas"),n=t.getContext("2d");if(t.width=d.width,t.height=d.height,b=g.Generate.parseGradient(c,d))switch(b.type){case "linear":f=n.createLinearGradient(b.x0,b.y0,b.x1,b.y1);b.colorStops.forEach(a(f));n.fillStyle=f;n.fillRect(0,0,d.width,d.height);break;case "circle":f=n.createRadialGradient(b.cx,b.cy,0,b.cx,b.cy,
b.rx);b.colorStops.forEach(a(f));n.fillStyle=f;n.fillRect(0,0,d.width,d.height);break;case "ellipse":var p=v.createElement("canvas"),r=p.getContext("2d");f=Math.max(b.rx,b.ry);var h=2*f;p.width=p.height=h;f=r.createRadialGradient(b.rx,b.ry,0,b.rx,b.ry,f);b.colorStops.forEach(a(f));r.fillStyle=f;r.fillRect(0,0,h,h);n.fillStyle=b.colorStops[b.colorStops.length-1].color;n.fillRect(0,0,t.width,t.height);n.drawImage(p,b.cx-b.rx,b.cy-b.ry,2*b.rx,2*b.ry)}return t}};c.ListAlpha=function(a){var c,b="";do c=
a%26,b=String.fromCharCode(c+64)+b,a/=26;while(26<26*a);return b};c.ListRoman=function(a){var c,b="M CM D CD C XC L XL X IX V IV I".split(" "),d=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],f="",g=b.length;if(0>=a||4E3<=a)return a;for(c=0;g>c;c+=1)for(;a>=d[c];)a-=d[c],f+=b[c];return f}})();g.Parse=function(m,d){function c(a,b){var c=parseInt(s(a,b),10);return isNaN(c)?0:c}function f(a,b,c,d,e,f){"transparent"!==f&&(a.setVariable("fillStyle",f),a.fillRect(b,c,d,e))}function l(a,b,c){return 0<a.length?
b+c.toUpperCase():r}function e(a,b){switch(b){case "lowercase":return a.toLowerCase();case "capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,l);case "uppercase":return a.toUpperCase();default:return a}}function b(a){return/^(normal|none|0px)$/.test(a)}function k(a,b,c,d){var e=s(b,"fontWeight"),f=s(b,"fontFamily"),h=s(b,"fontSize"),g=w.parseTextShadows(s(b,"textShadow"));switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return a.setVariable("fillStyle",d),a.setVariable("font",
[s(b,"fontStyle"),s(b,"fontVariant"),e,h,f].join(" ")),a.setVariable("textAlign","left"),g.length&&(a.setVariable("shadowColor",g[0].color),a.setVariable("shadowOffsetX",g[0].offsetX),a.setVariable("shadowOffsetY",g[0].offsetY),a.setVariable("shadowBlur",g[0].blur)),"none"!==c?w.Font(f,h,z):r}function n(a,c,U){var L,g,h=U.ctx,m=s(a,"color"),l=s(a,"textDecoration"),p=s(a,"textAlign"),x=c,E=0;0<w.trimText(c.nodeValue).length&&(c.nodeValue=e(c.nodeValue,s(a,"textTransform")),p=p.replace(["-webkit-auto"],
["auto"]),g=!d.letterRendering&&/^(left|right|justify|auto)$/.test(p)&&b(s(a,"letterSpacing"))?c.nodeValue.split(/(\b| )/):c.nodeValue.split(""),L=k(h,a,l,m),d.chinese&&g.forEach(function(a,b){/.*[\u4E00-\u9FA5].*$/.test(a)&&(a=a.split(""),a.unshift(b,1),g.splice.apply(g,a))}),g.forEach(function(a,b){var c,G=g.length-1>b;c=U.transform.matrix;var d;if(Z.rangeBounds&&!c){if("none"!==l||0!==w.trimText(a).length)c=x,G=E,d=z.createRange(),d=(d.setStart(c,G),d.setEnd(c,G+a.length),d.getBoundingClientRect());
E+=a.length}else if(x&&"string"==typeof x.nodeValue){var G=G?x.splitText(a.length):null,O=x;d=O.parentNode;var e=z.createElement("wrapper"),p=O.cloneNode(!0);e.appendChild(O.cloneNode(!0));d.replaceChild(e,O);c=c?w.OffsetBounds(e):w.Bounds(e);d=(d.replaceChild(p,e),c);x=G}if(c=d)switch(G=c.left,d=c.bottom,null!==a&&0<w.trimText(a).length&&h.fillText(a,G,d),l){case "underline":f(h,c.left,Math.round(c.top+L.baseline+L.lineWidth),c.width,1,m);break;case "overline":f(h,c.left,Math.round(c.top),c.width,
1,m);break;case "line-through":f(h,c.left,Math.ceil(c.top+L.middle+L.lineWidth),c.width,1,m)}}))}function u(a,b,c){var d;b=b.ctx;var e=s(a,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(e)){var f;f=-1;var h=1,m=a.parentNode.childNodes;if(a.parentNode){for(;m[++f]!==a;)1===m[f].nodeType&&h++;f=h}else f=-1;switch(e){case "decimal":d=f;break;case "decimal-leading-zero":d=1===(""+f).length?"0"+f:""+f;break;
case "upper-roman":d=g.Generate.ListRoman(f);break;case "lower-roman":d=g.Generate.ListRoman(f).toLowerCase();break;case "lower-alpha":d=g.Generate.ListAlpha(f).toLowerCase();break;case "upper-alpha":d=g.Generate.ListAlpha(f)}d+=". ";var p,l,e=z.createElement("boundelement"),e=(e.style.display="inline",p=a.style.listStyleType,a.style.listStyleType="none",e.appendChild(z.createTextNode(d)),a.insertBefore(e,a.firstChild),l=w.Bounds(e),a.removeChild(e),a.style.listStyleType=p,l);if(k(b,a,"none",s(a,
"color")),"inside"===s(a,"listStylePosition"))b.setVariable("textAlign","left"),a=c.left,c=e.bottom,null!==d&&0<w.trimText(d).length&&b.fillText(d,a,c)}}function p(a){return(a=m[a])&&!0===a.succeeded?a.img:!1}function A(a,b){var c=Math.max(a.left,b.left),d=Math.max(a.top,b.top),e=Math.min(a.left+a.width,b.left+b.width),f=Math.min(a.top+a.height,b.top+b.height);return{left:c,top:d,width:e-c,height:f-d}}function h(a,b,d,e,f){var h=c(b,"paddingLeft"),g=c(b,"paddingTop"),m=c(b,"paddingRight");b=c(b,"paddingBottom");
E(a,d,0,0,d.width,d.height,e.left+h+f[3].width,e.top+g+f[0].width,e.width-(f[1].width+f[3].width+h+m),e.height-(f[0].width+f[2].width+g+b))}function y(a){return["Top","Right","Bottom","Left"].map(function(b){return{width:c(a,"border"+b+"Width"),color:s(a,"border"+b+"Color")}})}function B(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){return s(a,"border"+b+"Radius")})}function q(a,b,c,d){var e=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,
endControl:c,end:d,subdivide:function(f){var h=e(a,b,f),g=e(b,c,f),m=e(c,d,f),p=e(h,g,f),g=e(g,m,f);f=e(p,g,f);return[q(a,h,p,f),q(f,g,m,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function D(a,b,c,d,e,f,g){0<b[0]||0<b[1]?(a.push(["line",d[0].start.x,d[0].start.y]),d[0].curveTo(a),d[1].curveTo(a)):a.push(["line",f,g]);(0<c[0]||0<c[1])&&a.push(["line",e[0].start.x,e[0].start.y])}function K(a,
b,c,d,e,f,g){var h=[];return 0<b[0]||0<b[1]?(h.push(["line",d[1].start.x,d[1].start.y]),d[1].curveTo(h)):h.push(["line",a.c1[0],a.c1[1]]),0<c[0]||0<c[1]?(h.push(["line",f[0].start.x,f[0].start.y]),f[0].curveTo(h),h.push(["line",g[0].end.x,g[0].end.y]),g[0].curveToReversed(h)):(h.push(["line",a.c2[0],a.c2[1]]),h.push(["line",a.c3[0],a.c3[1]])),0<b[0]||0<b[1]?(h.push(["line",e[1].end.x,e[1].end.y]),e[1].curveToReversed(h)):h.push(["line",a.c4[0],a.c4[1]]),h}function C(a,b,c){var d,e,f,h,g,m,p,l,k,x,
n,E,t=b.left,r=b.top,N=b.width,y=b.height,q=B(a);l=b.left;k=b.top;m=b.width;p=b.height;e=q[0][0];f=q[0][1];h=q[1][0];g=q[1][1];var v=q[2][0],C=q[2][1];x=q[3][0];n=q[3][1];var w=m-h,u=p-C,z=m-v,J=p-n;d=H(l,k,e,f).topLeft.subdivide(.5);e=H(l+c[3].width,k+c[0].width,Math.max(0,e-c[3].width),Math.max(0,f-c[0].width)).topLeft.subdivide(.5);f=H(l+w,k,h,g).topRight.subdivide(.5);h=H(l+Math.min(w,m+c[3].width),k+c[0].width,w>m+c[3].width?0:h-c[3].width,g-c[0].width).topRight.subdivide(.5);g=H(l+z,k+u,v,C).bottomRight.subdivide(.5);
m=H(l+Math.min(z,m+c[3].width),k+Math.min(u,p+c[0].width),Math.max(0,v-c[1].width),Math.max(0,C-c[2].width)).bottomRight.subdivide(.5);p=H(l,k+J,x,n).bottomLeft.subdivide(.5);l=H(l+c[3].width,k+J,Math.max(0,x-c[3].width),Math.max(0,n-c[2].width)).bottomLeft.subdivide(.5);k=[];switch(s(a,"backgroundClip")){case "content-box":case "padding-box":D(k,q[0],q[1],e,h,b.left+c[3].width,b.top+c[0].width);D(k,q[1],q[2],h,m,b.left+b.width-c[1].width,b.top+c[0].width);D(k,q[2],q[3],m,l,b.left+b.width-c[1].width,
b.top+b.height-c[2].width);D(k,q[3],q[0],l,e,b.left+c[3].width,b.top+b.height-c[2].width);break;default:D(k,q[0],q[1],d,f,b.left,b.top),D(k,q[1],q[2],f,g,b.left+b.width,b.top),D(k,q[2],q[3],g,p,b.left+b.width,b.top+b.height),D(k,q[3],q[0],p,d,b.left,b.top+b.height)}J={clip:k,borders:[]};for(a=0;4>a;a++)if(0<c[a].width){switch(b=t,k=r,x=N,n=y-c[2].width,a){case 0:n=c[0].width;E=K({c1:[b,k],c2:[b+x,k],c3:[b+x-c[1].width,k+n],c4:[b+c[3].width,k+n]},q[0],q[1],d,e,f,h);break;case 1:b=t+N-c[1].width;x=
c[1].width;E=K({c1:[b+x,k],c2:[b+x,k+n+c[2].width],c3:[b,k+n],c4:[b,k+c[0].width]},q[1],q[2],f,h,g,m);break;case 2:k=k+y-c[2].width;n=c[2].width;E=K({c1:[b+x,k+n],c2:[b,k+n],c3:[b+c[3].width,k],c4:[b+x-c[3].width,k]},q[2],q[3],g,m,p,l);break;case 3:x=c[3].width,E=K({c1:[b,k+n+c[2].width],c2:[b,k],c3:[b+x,k+c[0].width],c4:[b+x,k+n]},q[3],q[0],p,l,d,e)}J.borders.push({args:E,color:c[a].color})}return J}function M(a,b){var c=a.drawShape();return b.forEach(function(a,b){c[0===b?"moveTo":a[0]+"To"].apply(null,
a.slice(1))}),c}function x(a,b,c){var d=z.createElement("valuewrap");"lineHeight textAlign fontFamily color fontSize paddingLeft paddingTop width height border borderLeftWidth borderTopWidth".split(" ").forEach(function(b){try{d.style[b]=s(a,b)}catch(c){w.log("html2canvas: Parse: Exception caught in renderFormValue: "+c.message)}});d.style.borderColor="black";d.style.borderStyle="solid";d.style.display="block";d.style.position="absolute";(/^(submit|reset|button|text|password)$/.test(a.type)||"SELECT"===
a.nodeName)&&(d.style.lineHeight=s(a,"height"));d.style.top=b.top+"px";d.style.left=b.left+"px";(b="SELECT"===a.nodeName?(a.options[a.selectedIndex]||0).text:a.value)||(b=a.placeholder);b=z.createTextNode(b);d.appendChild(b);P.appendChild(d);n(a,b,c);P.removeChild(d)}function E(a){a.drawImage.apply(a,Array.prototype.slice.call(arguments,1))}function N(b,c){var d=a.getComputedStyle(b,c);if(d&&d.content&&"none"!==d.content&&"-moz-alt-content"!==d.content&&"none"!==d.display){var e=d.content+"",f=e.substr(0,
1);f===e.substr(e.length-1)&&f.match(/'|"/)&&(e=e.substr(1,e.length-2));var f="url"===e.substr(0,3),h=v.createElement(f?"img":"span");return h.className=I+"-before "+I+"-after",Object.keys(d).filter(J).forEach(function(a){try{h.style[a]=d[a]}catch(b){w.log(["Tried to assign readonly property ",a,"Error:",b])}}),f?h.src=w.parseBackgroundImage(e)[0].args[0]:h.innerHTML=e,h}}function J(b){return isNaN(a.parseInt(b,10))}function $(a,b){var c=N(a,":before"),d=N(a,":after");(c||d)&&(c&&(a.className+=" "+
I+"-before",a.parentNode.insertBefore(c,a),R(c,b,!0),a.parentNode.removeChild(c),a.className=a.className.replace(I+"-before","").trim()),d&&(a.className+=" "+I+"-after",a.appendChild(d),R(d,b,!0),a.removeChild(d),a.className=a.className.replace(I+"-after","").trim()))}function V(a,b,c,d){var e=Math.round(d.left+c.left);c=Math.round(d.top+c.top);a.createPattern(b);a.translate(e,c);a.fill();a.translate(-e,-c)}function S(a,b,c,d,e,f,h,g){var k=[];k.push(["line",Math.round(e),Math.round(f)]);k.push(["line",
Math.round(e+h),Math.round(f)]);k.push(["line",Math.round(e+h),Math.round(g+f)]);k.push(["line",Math.round(e),Math.round(g+f)]);M(a,k);a.save();a.clip();V(a,b,c,d);a.restore()}function aa(a,b,c){for(var d,e=s(a,"backgroundImage"),f=w.parseBackgroundImage(e),h=f.length;h--;)if(e=f[h],e.args&&0!==e.args.length)if(d=p("url"===e.method?e.args[0]:e.value)){var g=a,k=b,m=c,l=d;d=h;var x=w.BackgroundSize(g,k,l,d),n=w.BackgroundPosition(g,k,l,d,x),g=s(g,"backgroundRepeat").split(",").map(w.trimText);var q=
x;if(l.width!==q.width||l.height!==q.height)var x=void 0,t=z.createElement("canvas"),l=(t.width=q.width,t.height=q.height,x=t.getContext("2d"),E(x,l,0,0,l.width,l.height,0,0,q.width,q.height),t);switch(g[d]||g[0]){case "repeat-x":S(m,l,n,k,k.left,k.top+n.top,99999,l.height);break;case "repeat-y":S(m,l,n,k,k.left+n.left,k.top,l.width,99999);break;case "no-repeat":S(m,l,n,k,k.left+n.left,k.top+n.top,l.width,l.height);break;default:V(m,l,n,{top:k.top,left:k.left,width:l.width,height:l.height})}}else w.log("html2canvas: Error loading background:",
e)}function ba(a){return a.replace("px","")}function ca(a){var b=s(a,"transform")||s(a,"-webkit-transform")||s(a,"-moz-transform")||s(a,"-ms-transform")||s(a,"-o-transform");a=s(a,"transform-origin")||s(a,"-webkit-transform-origin")||s(a,"-moz-transform-origin")||s(a,"-ms-transform-origin")||s(a,"-o-transform-origin")||"0px 0px";a=a.split(" ").map(ba).map(w.asFloat);var c;if(b&&"none"!==b&&(b=b.match(da)))switch(b[1]){case "matrix":c=b[2].split(",").map(w.trimText).map(w.asFloat)}return{origin:a,
matrix:c}}function ea(a,b,c,e){var f=F(b?c.width:Math.max(Math.max(z.body.scrollWidth,z.documentElement.scrollWidth),Math.max(z.body.offsetWidth,z.documentElement.offsetWidth),Math.max(z.body.clientWidth,z.documentElement.clientWidth)),b?c.height:Math.max(Math.max(z.body.scrollHeight,z.documentElement.scrollHeight),Math.max(z.body.offsetHeight,z.documentElement.offsetHeight),Math.max(z.body.clientHeight,z.documentElement.clientHeight))),h;h=f.setVariable("globalAlpha",s(a,"opacity")*(b?b.opacity:
1));e={ctx:f,opacity:h,cssPosition:s(a,"position"),borders:y(a),transform:e,clip:b&&b.clip?w.Extend({},b.clip):null};var g=(h="static"!==e.cssPosition)?s(a,"zIndex"):"auto",k=s(a,"opacity"),l="none"!==s(a,"cssFloat");e.zIndex=f={zindex:g,children:[]};f.isPositioned=h;f.isFloated=l;f.opacity=k;f.ownStacking="auto"!==g||1>k;b&&b.zIndex.children.push(e);return!0===d.useOverflow&&!0===/(hidden|scroll|auto)/.test(s(a,"overflow"))&&!1===/(BODY)/i.test(a.nodeName)&&(e.clip=e.clip?A(e.clip,c):c),e}function fa(a,
b,c){a={left:b.left+a[3].width,top:b.top+a[0].width,width:b.width-(a[1].width+a[3].width),height:b.height-(a[0].width+a[2].width)};return c&&(a=A(a,c)),a}function ga(a,b){var c=b.matrix?w.OffsetBounds(a):w.Bounds(a);return b.origin[0]+=c.left,b.origin[1]+=c.top,c}function W(a,b,c,d){var e,g=ca(a,b),k=ga(a,g);b=ea(a,b,k,g);var g=b.borders,l=b.ctx,m=fa(g,k,b.clip),n=C(a,k,g),q=X.test(a.nodeName)?"#efefef":s(a,"backgroundColor");M(l,n.clip);l.save();l.clip();0<m.height&&0<m.width&&!d?(f(l,k.left,k.top,
k.width,k.height,q),aa(a,m,l)):d&&(b.backgroundColor=q);switch(l.restore(),n.borders.forEach(function(a){var b=a.args;a=a.color;"transparent"!==a&&(l.setVariable("fillStyle",a),M(l,b),l.fill())}),c||$(a,b),a.nodeName){case "IMG":(e=p(a.getAttribute("src")))?h(l,a,e,k,g):w.log("html2canvas: Error loading <img>:"+a.getAttribute("src"));break;case "INPUT":/^(text|url|email|submit|button|reset)$/.test(a.type)&&0<(a.value||a.placeholder||"").length&&x(a,k,b);break;case "TEXTAREA":0<(a.value||a.placeholder||
"").length&&x(a,k,b);break;case "SELECT":0<(a.options||a.placeholder||"").length&&x(a,k,b);break;case "LI":u(a,b,m);break;case "CANVAS":h(l,a,a,k,g)}return b}function R(a,b,c){"none"!==s(a,"display")&&"hidden"!==s(a,"visibility")&&!a.hasAttribute("data-html2canvas-ignore")&&(b=W(a,b,c,!1)||b,X.test(a.nodeName)||Y(a,b,c))}function Y(a,b,c){w.Children(a).forEach(function(d){d.nodeType===d.ELEMENT_NODE?R(d,b,c):d.nodeType===d.TEXT_NODE&&n(a,d,b)})}a.scroll(0,0);var Q=d.elements===r?v.body:d.elements[0],
z=Q.ownerDocument,w=g.Util,Z=w.Support(d,z),X=RegExp("("+d.ignoreElements+")"),P=z.body,s=w.getCSS,I="___html2canvas___pseudoelement",T=z.createElement("style");T.innerHTML="."+I+'-before:before { content: "" !important; display: none !important; }.'+I+'-after:after { content: "" !important; display: none !important; }';P.appendChild(T);m=m||{};var H=function(a){return function(b,c,d,e){var f=d*a,h=e*a;d=b+d;e=c+e;return{topLeft:q({x:b,y:e},{x:b,y:e-h},{x:d-f,y:c},{x:d,y:c}),topRight:q({x:b,y:c},
{x:b+f,y:c},{x:d,y:e-h},{x:d,y:e}),bottomRight:q({x:d,y:c},{x:d,y:c+h},{x:b+f,y:e},{x:b,y:e}),bottomLeft:q({x:d,y:e},{x:d-f,y:e},{x:b,y:c+h},{x:b,y:c})}}}(4*((Math.sqrt(2)-1)/3)),da=/(matrix)\((.+)\)/;return function(){var a=s(v.documentElement,"backgroundColor"),b=w.isTransparent(a)&&Q===v.body,c=W(Q,null,!1,b);return Y(Q,c),b&&(a=c.backgroundColor),P.removeChild(T),{backgroundColor:a,stack:c}}()};g.Preload=function(m){function d(){y.log("html2canvas: start: images: "+h.numLoaded+" / "+h.numTotal+
" (failed: "+h.numFailed+")");!h.firstRun&&h.numLoaded>=h.numTotal&&(y.log("Finished loading images: # "+h.numTotal+" (failed: "+h.numFailed+")"),"function"==typeof m.complete&&m.complete(h))}function c(b,c,e){var f,g,l=m.proxy;C.href=b;b=C.href;f="html2canvas_"+B++;e.callbackname=f;l+=-1<l.indexOf("?")?"&":"?";l+="url="+encodeURIComponent(b)+"&callback="+f;g=q.createElement("script");a[f]=function(b){"error:"===b.substring(0,6)?(e.succeeded=!1,h.numLoaded++,h.numFailed++,d()):(k(c,e),c.src=b);a[f]=
r;try{delete a[f]}catch(l){}g.parentNode.removeChild(g);g=null;delete e.script;delete e.callbackname};g.setAttribute("type","text/javascript");g.setAttribute("src",l);e.script=g;a.document.body.appendChild(g)}function f(b,c){var d=a.getComputedStyle(b,c),f=d.content;"url"===f.substr(0,3)&&u.loadImage(g.Util.parseBackgroundImage(f)[0].args[0]);e(d.backgroundImage,b)}function l(a){return a&&a.method&&a.args&&0<a.args.length}function e(a,b){var c;g.Util.parseBackgroundImage(a).filter(l).forEach(function(a){if("url"===
a.method)u.loadImage(a.args[0]);else if(a.method.match(/\-?gradient$/)){c===r&&(c=g.Util.Bounds(b));a=a.value;var e=g.Generate.Gradient(a,c);e!==r&&(h[a]={img:e,succeeded:!0},h.numTotal++,h.numLoaded++,d())}})}function b(a){var c=!1;try{y.Children(a).forEach(b)}catch(d){}try{c=a.nodeType}catch(h){c=!1,y.log("html2canvas: failed to access some element's nodeType - Exception: "+h.message)}if(1===c||c===r){f(a,":before");f(a,":after");try{e(y.getCSS(a,"backgroundImage"),a)}catch(g){y.log("html2canvas: failed to get background-image - Exception: "+
g.message)}e(a)}}function k(b,e){b.onload=function(){e.timer!==r&&a.clearTimeout(e.timer);h.numLoaded++;e.succeeded=!0;b.onerror=b.onload=null;d()};b.onerror=function(){if("anonymous"===b.crossOrigin&&(a.clearTimeout(e.timer),m.proxy)){var f=b.src;return b=new Image,e.img=b,b.src=f,c(b.src,b,e),r}h.numLoaded++;h.numFailed++;e.succeeded=!1;b.onerror=b.onload=null;d()}}var n,u,p,A,h={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},y=g.Util,B=0;p=m.elements[0]||v.body;var q=p.ownerDocument,D=p.getElementsByTagName("img"),
K=D.length,C=q.createElement("a"),M=function(a){return a.crossOrigin!==r}(new Image);C.href=a.location.href;n=C.protocol+C.host;u={loadImage:function(a){var b,d;a&&h[a]===r&&(b=new Image,a.match(/data:image\/.*;base64,/i)?(b.src=a.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),d=h[a]={img:b},h.numTotal++,k(b,d)):(C.href=a,C.href=C.href,C.protocol+C.host===n||!0===m.allowTaint?(d=h[a]={img:b},h.numTotal++,k(b,d),b.src=a):M&&!m.allowTaint&&m.useCORS?(b.crossOrigin="anonymous",d=h[a]={img:b},h.numTotal++,
k(b,d),b.src=a):m.proxy&&(d=h[a]={img:b},h.numTotal++,c(a,b,d))))},cleanupDOM:function(b){var c,e;if(!h.cleanupDone){b&&"string"==typeof b?y.log("html2canvas: Cleanup because: "+b):y.log("html2canvas: Cleanup after timeout: "+m.timeout+" ms.");for(e in h)if(h.hasOwnProperty(e)&&(c=h[e],"object"==typeof c&&c.callbackname&&c.succeeded===r)){a[c.callbackname]=r;try{delete a[c.callbackname]}catch(f){}c.script&&c.script.parentNode&&(c.script.setAttribute("src","about:blank"),c.script.parentNode.removeChild(c.script));
h.numLoaded++;h.numFailed++;y.log("html2canvas: Cleaned up failed img: '"+e+"' Steps: "+h.numLoaded+" / "+h.numTotal)}a.stop!==r?a.stop():v.execCommand!==r&&v.execCommand("Stop",!1);v.close!==r&&v.close();h.cleanupDone=!0;b&&"string"==typeof b||d()}},renderingDone:function(){A&&a.clearTimeout(A)}};0<m.timeout&&(A=a.setTimeout(u.cleanupDOM,m.timeout));y.log("html2canvas: Preload starts: finding background-images");h.firstRun=!0;b(p);y.log("html2canvas: Preload: Finding images");for(p=0;K>p;p+=1)u.loadImage(D[p].getAttribute("src"));
return h.firstRun=!1,y.log("html2canvas: Preload: Done."),h.numTotal===h.numLoaded&&d(),u};g.Renderer=function(a,d){return function(a){if("string"==typeof d.renderer&&g.Renderer[a]!==r)a=g.Renderer[a](d);else{if("function"!=typeof a)throw Error("Unknown renderer");a=a(d)}if("function"!=typeof a)throw Error("Invalid renderer defined");return a}(d.renderer)(a,d,v,function(a){function d(a){Object.keys(a).sort().forEach(function(c){var g=[],l=[],m=[],n=[];a[c].forEach(function(a){a.node.zIndex.isPositioned||
1>a.node.zIndex.opacity?m.push(a):a.node.zIndex.isFloated?l.push(a):g.push(a)});(function y(a){a.forEach(function(a){n.push(a);a.children&&y(a.children)})})(g.concat(l,m));n.forEach(function(a){a.context?d(a.context):e.push(a.node)})})}var g,e=[];return g=function(a){function c(a,b,d){var e="auto"===b.zIndex.zindex?0:Number(b.zIndex.zindex),f=a,g=b.zIndex.isPositioned,l=b.zIndex.isFloated,m={node:b},n=d;b.zIndex.ownStacking?(f=m.context={"!":[{node:b,children:[]}]},n=r):(g||l)&&(n=m.children=[]);
0===e&&d?d.push(m):(a[e]||(a[e]=[]),a[e].push(m));b.zIndex.children.forEach(function(a){c(f,a,n)})}var d={};return c(d,a),d}(a),d(g),e}(a.stack),g)};g.Util.Support=function(a,d){function c(){var a=new Image,c=d.createElement("canvas"),e=c.getContext===r?!1:c.getContext("2d");if(!1===e)return!1;c.width=c.height=10;a.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><foreignObject width='10' height='10'><div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>sup</div></foreignObject></svg>";
try{e.drawImage(a,0,0),c.toDataURL()}catch(b){return!1}return g.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}return{rangeBounds:function(){var a,c,e,b,g=!1;return d.createRange&&(a=d.createRange(),a.getBoundingClientRect&&(c=d.createElement("boundtest"),c.style.height="123px",c.style.display="block",d.body.appendChild(c),a.selectNode(c),e=a.getBoundingClientRect(),b=e.height,123===b&&(g=!0),d.body.removeChild(c))),g}(),svgRendering:a.svgRendering&&c()}};a.html2canvas=function(m,
d){m=m.length?m:[m];var c,f,l={logging:!1,elements:m,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return l=g.Util.Extend(d,l),g.logging=l.logging,l.complete=function(a){"function"==typeof l.onpreloaded&&!1===l.onpreloaded(a)||(c=g.Parse(a,l),"function"==typeof l.onparsed&&!1===l.onparsed(c)||(f=g.Renderer(c,l),"function"!=typeof l.onrendered||
l.onrendered(f)))},a.setTimeout(function(){g.Preload(l)},0),{render:function(a,b){return g.Renderer(a,g.Util.Extend(b,l))},parse:function(a,b){return g.Parse(a,g.Util.Extend(b,l))},preload:function(a){return g.Preload(g.Util.Extend(a,l))},log:g.Util.log}};a.html2canvas.log=g.Util.log;a.html2canvas.Renderer={Canvas:r};g.Renderer.Canvas=function(a){function d(a,b){a.beginPath();b.forEach(function(b){a[b.name].apply(a,b.arguments)});a.closePath()}a=a||{};var c=[],f=v.createElement("canvas"),l=f.getContext("2d"),
e=g.Util,b=a.canvas||v.createElement("canvas");return function(g,n,u,p,A){var h,y,B,q=b.getContext("2d"),D=g.stack;return b.width=b.style.width=n.width||D.ctx.width,b.height=b.style.height=n.height||D.ctx.height,B=q.fillStyle,q.fillStyle=e.isTransparent(D.backgroundColor)&&n.background!==r?n.background:g.backgroundColor,q.fillRect(0,0,b.width,b.height),q.fillStyle=B,p.forEach(function(b){q.textBaseline="bottom";q.save();b.transform.matrix&&(q.translate(b.transform.origin[0],b.transform.origin[1]),
q.transform.apply(q,b.transform.matrix),q.translate(-b.transform.origin[0],-b.transform.origin[1]));b.clip&&(q.beginPath(),q.rect(b.clip.left,b.clip.top,b.clip.width,b.clip.height),q.clip());b.ctx.storage&&b.ctx.storage.forEach(function(b){var g=q;switch(b.type){case "variable":g[b.name]=b.arguments;break;case "function":switch(b.name){case "createPattern":if(0<b.arguments[0].width&&0<b.arguments[0].height)try{g.fillStyle=g.createPattern(b.arguments[0],"repeat")}catch(h){e.log("html2canvas: Renderer: Error creating pattern",
h.message)}break;case "drawShape":d(g,b.arguments);break;case "drawImage":var k;if((k=0<b.arguments[8]&&0<b.arguments[7])&&!(k=!a.taintTest)&&(k=a.taintTest))a:{if(-1===c.indexOf(b.arguments[0].src)){l.drawImage(b.arguments[0],0,0);try{l.getImageData(0,0,1,1)}catch(n){k=(f=v.createElement("canvas"),l=f.getContext("2d"),!1);break a}c.push(b.arguments[0].src)}k=!0}k&&g.drawImage.apply(g,b.arguments);break;default:g[b.name].apply(g,b.arguments)}}});q.restore()}),e.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),
1===n.elements.length&&"object"==typeof n.elements[0]&&"BODY"!==n.elements[0].nodeName?(y=A.Util.Bounds(n.elements[0]),h=u.createElement("canvas"),h.width=Math.ceil(y.width),h.height=Math.ceil(y.height),q=h.getContext("2d"),q.drawImage(b,y.left,y.top,y.width,y.height,0,0,y.width,y.height),b=null,h):b}}})(window,document);